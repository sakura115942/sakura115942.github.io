<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ— é¢˜</title>
    <url>/1970/01/01/0000_%E6%97%A0%E9%A2%98/</url>
    <content><![CDATA[<p><img src="..%5C%E7%AA%93%E6%9E%A0%E3%81%BC%E3%81%8B%E3%81%97.jpg" alt="Alice"></p>
<span id="more"></span>

<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³<br>ãƒ–ãƒ©ãƒƒã‚¯ã‚¯ãƒ­ãƒ¼ãƒãƒ¼<br>ã”æ³¨æ–‡ã¯ã†ã•ãã§ã™ã‹?<br>å°‘å¥³çµ‚æœ«æ—…è¡Œ<br>ã†ã‚‰ã‚‰è¿·è·¯å¸–<br>é€²æ’ƒã®å·¨äºº<br>å¤ç›®å‹äººå¸³<br>Fate/kaleid liner é­”æ³•å°‘å¥³â˜†ä¼Šè‰é›…<br>æ‹ã¨å˜˜  </p>
<p><del>[2020-05-15] é¬¼æ»…ã®åˆƒ</del>  </p>
<hr>
<h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><p>å¯»æ‰¾æ‰‹è‰º<br>å¯»å‘³é¡ºå¾·<br>ä¸‡ç‰©æ»‹å…»<br>ç”Ÿæ´»å¦‚æ²¸<br>æ–°æ—¥æœ¬é¢¨åœŸè¨˜<br>é£Ÿå½©ã®ç‹å›½<br>æˆ‘ä½åœ¨è¿™é‡Œçš„ç†ç”±<br>Bushcraft Build-Off<br>Treehouse Master  </p>
<p><del>å‘³é“äº‘å—</del>  </p>
<hr>
<h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><p>ä¸‰è‰²ç»˜æ‹<br>ä¸‰è‰²ç»˜æ‹S<br>ã†ãŸã‚ã‚Œã‚‹ã‚‚ã®<br>9-nine-ã“ã“ã®ã¤ã“ã“ã®ã‹ã“ã“ã®ã„ã‚<br>9-nine-ãã‚‰ã„ã‚ãã‚‰ã†ãŸãã‚‰ã®ãŠã¨<br>9-nine-ã¯ã‚‹ã„ã‚ã¯ã‚‹ã“ã„ã¯ã‚‹ã®ã‹ãœ<br>9-nine-ã‚†ãã„ã‚ã‚†ãã¯ãªã‚†ãã®ã‚ã¨<br>Never7 -the end of infinity-<br>ç©¢ç¿¼ã®ãƒ¦ãƒ¼ã‚¹ãƒ†ã‚£ã‚¢<br>eden*<br>å¤ç©ºã‚«ãƒŠã‚¿<br>ç´ æ™´ã‚‰ã—ãæ—¥ã€…<del>ä¸é€£ç¶šå­˜åœ¨</del><br>ã‚µã‚¯ãƒ©ãƒè©©-æ«»ã®æ£®ã®ä¸Šã‚’èˆã†-<br>RIDDLE JOKER<br>æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•2.1 EÃ—SÃ—PAR!!<br>æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•2.2 AÃ—L+SA!!<br>ãƒ¡ãƒ¢ãƒªãƒ¼ã‚ºã‚ªãƒ• 2nd<br>æœªæ¥ãƒ©ã‚¸ã‚ªã¨äººå·¥é³©<br>ç¾å°‘å¥³ä¸‡è¯é¡-ç†ã¨è¿·å®®ã®å°‘å¥³-<br>æœˆå§¬<br>åƒã®åˆƒæ¿¤ã€æ¡ƒèŠ±æŸ“ã®çš‡å§«<br>ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³ã‚ºã‚²ãƒ¼ãƒˆ<br>WHITE ALBUM2<br>Summer Pockets REFLECTION BLUE  </p>
<p><del>[2020-04-30] ãƒ¡ãƒ¢ãƒªãƒ¼ã‚ºã‚ªãƒ•-Innocent Fille- for Dearest</del><br><del>[2020-04-03] ãƒ¡ãƒ¢ãƒªãƒ¼ã‚ºã‚ªãƒ•-Innocent Fille-</del><br><del>[2019-10-04] Ever17 -the out of infinity-</del><br><del>[2019-04-07] çµ†ãã‚‰ã‚ãæ‹ã„ã‚ã¯-æ¤¿æ‹æ­Œ-</del><br><del>[2019-04-06] ç»Šãã‚‰ã‚ãæ‹ã„ã‚ã¯</del><br><del>Summer Pockets</del><br><del>ä¹™å¥³ç†è«–ã¨ãã®å¾Œã®å‘¨è¾º -Belle Ã‰poque- Limited Edition</del><br><del>ä¹™å¥³ç†è«–ã¨ãã®å‘¨è¾º-Ecole de Paris-</del><br><del>ISLAND</del><br><del>ãƒ¡ãƒ¢ãƒªãƒ¼ã‚ºã‚ªãƒ•6 Next Relation</del><br><del>ãƒ¡ãƒ¢ãƒªãƒ¼ã‚ºã‚ªãƒ•6 ã€œT-waveã€œ</del><br><del>æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•2</del><br><del>é­”æ³•ä½¿ã„ã®å¤œ</del><br><del>æœˆã«å¯„ã‚Šãã†ä¹™å¥³ã®ä½œæ³•</del><br><del>Fate/stay night [Heavenâ€™s Feel]</del><br><del>ç¾å°‘å¥³ä¸‡è¯é¡-ç½ªã¨ç½°ã®å°‘å¥³-</del><br><del>ã‚ªãƒˆãƒ¡*ãƒ‰ãƒ¡ã‚¤ãƒ³</del><br><del>çº¸ã®ä¸Šã®é­”æ³•ä½¿ã„</del><br><del>åƒæ‹*ä¸‡èŠ±</del><br><del>é¥ã‹ã«ä»°ãã€éº—ã—ã®</del><br><del>ãƒãƒ«ã‚«ãƒŠã‚½ãƒ©</del><br><del>ãƒ¨ã‚¹ã‚¬ãƒã‚½ãƒ©</del> </p>
<hr>
<h2 id="N"><a href="#N" class="headerlink" title="N"></a>N</h2><p>æ°·è“<br>ç¼çœ¼ã®ã‚·ãƒ£ãƒŠ<br>é­”å¥³ã®æ—…ã€…<br>å†´ãˆãªã„å½¼å¥³ã®è‚²ã¦ã‹ãŸ<br>ã‚„ã¯ã‚Šä¿ºã®é’æ˜¥ãƒ©ãƒ–ã‚³ãƒ¡ã¯ã¾ã¡ãŒã£ã¦ã„ã‚‹<br>ã‚¢ã‚¯ã‚»ãƒ«ãƒ»ãƒ¯ãƒ¼ãƒ«ãƒ‰<br>ãƒ‡ãƒ¼ãƒˆÂ·ã‚¢Â·ãƒ©ã‚¤ãƒ–<br>ã•ãã‚‰è˜ã®ãƒšãƒƒãƒˆãªå½¼å¥³<br>Re:ã‚¼ãƒ­ã‹ã‚‰å§‹ã‚ã‚‹ç•°ä¸–ç•Œç”Ÿæ´»<br>NO GAME NO LIFE<br>ã‚¯ãƒ­ãƒƒã‚¯ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ—ãƒ©ãƒãƒƒãƒˆ<br>æœˆã®çŠç‘š<br>é‹¼ã®å¤§åœ°<br>Garden of Avalon<br>ã‚ˆã†ã“ãå®ŸåŠ›è‡³ä¸Šä¸»ç¾©ã®æ•™å®¤ã¸<br>ãã®æ—¥ã€æœ±éŸ³ã¯ç©ºã‚’é£›ã‚“ã <br>ç‹¼ã¨é¦™è¾›æ–™  </p>
<p><del>ç²¾éœŠä½¿ã„ã®å‰£èˆ</del><br><del>æ©Ÿå·§å°‘å¥³ã¯å‚·ã¤ã‹ãªã„</del><br><del>ãƒ–ãƒ©ãƒƒã‚¯ãƒ»ãƒ–ãƒ¬ãƒƒãƒˆ</del>      </p>
<hr>
<h2 id="M"><a href="#M" class="headerlink" title="M"></a>M</h2><p>ç™¾æ—¥ç´… ã€œMiss HOKUSAIã€œ<br>ãƒ´ã‚¡ã‚¤ã‚ªãƒ¬ãƒƒãƒˆãƒ»ã‚¨ãƒ´ã‚¡ãƒ¼ã‚¬ãƒ¼ãƒ‡ãƒ³ å¤–ä¼ - æ°¸é ã¨è‡ªå‹•æ‰‹è¨˜äººå½¢ -<br>åŠ‡å ´ç‰ˆ ãƒ´ã‚¡ã‚¤ã‚ªãƒ¬ãƒƒãƒˆãƒ»ã‚¨ãƒ´ã‚¡ãƒ¼ã‚¬ãƒ¼ãƒ‡ãƒ³<br>Fate/stay night [Heavenâ€™s Feel] III.Spring Song<br>åƒ•ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¢ã‚«ãƒ‡ãƒŸã‚¢THE MOVIE ï½2äººã®è‹±é›„ï½<br>éŠ€æ²³é‰„é“ã®å¤œ<br>ã‚µãƒãƒ¼ã‚¦ã‚ªãƒ¼ã‚º<br>çœ©ï½åŒ—æ–ã®å¨˜ï½<br>å†´ãˆãªã„å½¼å¥³ã®è‚²ã¦ã‹ãŸFine<br>åŠ‡å ´ç‰ˆã€Œé¬¼æ»…ã®åˆƒã€ç„¡é™åˆ—è»Šç·¨<br>æ³£ããŸã„ç§ã¯çŒ«ã‚’ã‹ã¶ã‚‹<br>ã‘ã„ãŠã‚“ï¼  </p>
<p><del>[2020-05-22] èŠ±å’²ãã„ã‚ã¯ HOME SWEET HOME</del><br><del>[2020-05-02] Re:ã‚¼ãƒ­ã‹ã‚‰å§‹ã‚ã‚‹ç•°ä¸–ç•Œç”Ÿæ´» æ°·çµã®çµ†</del><br><del>[2020-05-01] Re:ã‚¼ãƒ­ã‹ã‚‰å§‹ã‚ã‚‹ç•°ä¸–ç•Œç”Ÿæ´» Memory Snow</del><br><del>[2020-04-28] åŠ‡å ´ç‰ˆ éŸ¿ã‘ï¼ãƒ¦ãƒ¼ãƒ•ã‚©ãƒ‹ã‚¢ãƒ ï½èª“ã„ã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬ï½</del><br><del>[2020-04-26] ãƒªã‚ºã¨é’ã„é³¥</del><br><del>[2020-04-14] è–„æš®</del><br><del>[2020-03-02] ãŸã¾ã“ãƒ©ãƒ–ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</del><br><del>ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ å¾©æ´»ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥</del><br><del>åæ¢åµã‚³ãƒŠãƒ³ ç´ºé’ã®æ‹³</del><br><del>Fate/stay night [Heavenâ€™s Feel] II.lost butterfly</del><br><del>å¤ç›®å‹äººå¸³ï½ã†ã¤ã›ã¿ã«çµã¶ï½</del><br><del>ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥â…¢ çš‡é“</del><br><del>ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥â…¡ å›é“</del><br><del>ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥â…  èˆˆé“</del><br><del>å›ã®è†µè‡“ã‚’ãŸã¹ãŸã„</del><br><del>ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†</del><br><del>åæ¢åµã‚³ãƒŠãƒ³ ã‚¼ãƒ­ã®åŸ·è¡Œäºº</del><br><del>æ–‡è±ªã‚¹ãƒˆãƒ¬ã‚¤ãƒ‰ãƒƒã‚°ã‚¹ DEAD APPLE</del><br><del>ä¸­äºŒç—…ã§ã‚‚æ‹ãŒã—ãŸã„ -Take On Me-</del><br><del>ã”æ³¨æ–‡ã¯ã†ã•ãã§ã™ã‹?? ï½Dear My Sisterï½</del><br><del>Fate/stay night [Heavenâ€™s Feel] I.presage flower</del><br><del>No Game No Life: Zero</del><br><del>æ‰“ã¡ä¸Šã’èŠ±ç«ã€ä¸‹ã‹ã‚‰è¦‹ã‚‹ã‹ï¼Ÿæ¨ªã‹ã‚‰è¦‹ã‚‹ã‹ï¼Ÿ</del><br><del>æ·±å¤œé£Ÿå ‚</del><br><del>ãƒ—ãƒªã‚ºãƒâ˜†ã‚¤ãƒªãƒ¤ é›ªä¸‹ã®èª“ã„</del><br><del>ã‚½ãƒ¼ãƒ‰ã‚¢ãƒ¼ãƒˆãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ -ã‚ªãƒ¼ãƒ‡ã‚£ãƒŠãƒ«ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«-</del><br><del>åæ¢åµã‚³ãƒŠãƒ³ ã‹ã‚‰ç´…ã®æ‹æ­Œ</del><br><del>å›ã®åã¯</del><br><del>è²ã®å½¢</del><br><del>ã‚¢ã‚¯ã‚»ãƒ«ãƒ»ãƒ¯ãƒ¼ãƒ«ãƒ‰ INFINITEâˆBURST</del>  </p>
<hr>
<h2 id="T"><a href="#T" class="headerlink" title="T"></a>T</h2><p>é«˜å¶ºã®èŠ±<br>ãƒ„ãƒã‚­æ–‡å…·åº—ï½éŒå€‰ä»£æ›¸å±‹ç‰©èªï½<br>æ·±å¤œé£Ÿå ‚<br>å­¤ç‹¬ã®ã‚°ãƒ«ãƒ¡<br>ãƒ¯ã‚«ã‚³é…’<br>ãƒ‘ãƒ³ã¨ã‚¹ãƒ¼ãƒ—ã¨ãƒã‚³æ—¥å’Œ<br>ãã‚‡ã†ã®çŒ«æ‘ã•ã‚“<br>å‰ç¥¥å¯ºã ã‘ãŒä½ã¿ãŸã„è¡—ã§ã™ã‹ï¼Ÿ<br>åŒ—ã®å›½ã‹ã‚‰<br>1ãƒªãƒƒãƒˆãƒ«ã®æ¶™  </p>
<p><del>[2020-05-28] dele</del><br><del>[2020-05-13] ä¾ é£¯ã€œãŠã¨ã“ã‚ã—ã€œ</del><br><del>[2020-05-04] åˆ‘äº‹ã‚¼ãƒ­</del><br><del>[2020-04-18] çµ¶ãƒ¡ã‚·ãƒ­ãƒ¼ãƒ‰</del><br><del>[2020-03-17] ã²ã¨ã‚Šã‚­ãƒ£ãƒ³ãƒ—ã§é£Ÿã£ã¦å¯ã‚‹</del><br><del>[2020-03-04] ã‚°ãƒ©ãƒ³ãƒ¡ã‚¾ãƒ³æ±äº¬</del><br><del>Game of Thrones</del>  </p>
]]></content>
  </entry>
  <entry>
    <title>å¸¸ç”¨å¤‡å¿˜</title>
    <url>/1970/01/01/0001_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p><img src="..%5C%E6%A1%9C%E5%B0%8F%E8%B7%AF%E3%83%AB%E3%83%8A.png" alt="Runa"><br>å¾…æ•´ç†</p>
<span id="more"></span>

<h2 id="adb"><a href="#adb" class="headerlink" title="adb"></a>adb</h2><p><a href="https://developer.android.google.cn/studio/command-line/adb?hl=zh_cn">https://developer.android.google.cn/studio/command-line/adb?hl=zh_cn</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb push /../.. /sdcard/..</span><br><span class="line"></span><br><span class="line">adb shell pm list packages | find &quot;example&quot;</span><br><span class="line"></span><br><span class="line">adb shell pm path com.example.myapplication</span><br><span class="line"></span><br><span class="line">adb pull /data/app/com.example.myapplication/base.apk</span><br><span class="line"></span><br><span class="line">adb install base.apk</span><br></pre></td></tr></table></figure>

<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line"></span><br><span class="line">git pull origin master --allow-unrelated-histories</span><br><span class="line"></span><br><span class="line">git commit --amend -m &quot;æ–°çš„æäº¤ä¿¡æ¯&quot;</span><br><span class="line"></span><br><span class="line">git log --oneline --decorate --graph --all</span><br></pre></td></tr></table></figure>

<h2 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h2><table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">é˜¿é‡Œäº‘</td>
<td align="center"><a href="http://mirrors.aliyun.com/pypi/simple">http://mirrors.aliyun.com/pypi/simple</a></td>
</tr>
<tr>
<td align="center">è±†ç“£</td>
<td align="center"><a href="http://pypi.douban.com/simple">http://pypi.douban.com/simple</a></td>
</tr>
<tr>
<td align="center">æ¸…å</td>
<td align="center"><a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></td>
</tr>
<tr>
<td align="center">ä¸­ç§‘å¤§</td>
<td align="center"><a href="http://pypi.mirrors.ustc.edu.cn/simple">http://pypi.mirrors.ustc.edu.cn/simple</a></td>
</tr>
<tr>
<td align="center">åç§‘å¤§</td>
<td align="center"><a href="http://pypi.hustunique.com/">http://pypi.hustunique.com</a></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install django -i https://mirrors.aliyun.com/pypi/simple</span><br><span class="line">pip freeze &gt; requirements.txt   </span><br><span class="line">pip install -r requirements</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>adb</tag>
      </tags>
  </entry>
  <entry>
    <title>pip å¤‡å¿˜</title>
    <url>/2019/12/20/0010_pip_note/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>HALåº“å¤‡å¿˜</title>
    <url>/2020/03/03/HAL%E5%BA%93%E5%A4%87%E5%BF%98/</url>
    <content><![CDATA[<p>è®°å½•HALåº“ç›¸å…³</p>
<span id="more"></span>
<h1 id="ä¸²å£è¾“å‡ºé‡å®šå‘"><a href="#ä¸²å£è¾“å‡ºé‡å®šå‘" class="headerlink" title="ä¸²å£è¾“å‡ºé‡å®šå‘"></a>ä¸²å£è¾“å‡ºé‡å®šå‘</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdio.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span><span class="params">(<span class="keyword">int</span> ch, FILE *f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  HAL_UART_Transmit(&amp;huart1, (<span class="keyword">uint8_t</span> *)&amp;ch, <span class="number">1</span>, <span class="number">0xffff</span>);</span><br><span class="line">  <span class="keyword">return</span> ch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdio.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdarg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;string.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> USART2_TXBUF_SIZE_MAX 1024</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">u2_printf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    va_list args;</span><br><span class="line">    <span class="keyword">uint32_t</span> length;</span><br><span class="line">    <span class="keyword">uint8_t</span> txbuf[USART2_TXBUF_SIZE_MAX] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    va_start(args, format);</span><br><span class="line">    length = vsnprintf((<span class="keyword">char</span> *)txbuf, <span class="keyword">sizeof</span>(txbuf), (<span class="keyword">char</span> *)format, args);</span><br><span class="line">    va_end(args); </span><br><span class="line">    HAL_UART_Transmit(&amp;huart2, (<span class="keyword">uint8_t</span> *)txbuf, length, HAL_MAX_DELAY);</span><br><span class="line">    <span class="built_in">memset</span>(txbuf, <span class="number">0</span>, USART2_TXBUF_SIZE_MAX);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ›´æ–°äº‹ä»¶ä¸­æ–­"><a href="#æ›´æ–°äº‹ä»¶ä¸­æ–­" class="headerlink" title="æ›´æ–°äº‹ä»¶ä¸­æ–­"></a>æ›´æ–°äº‹ä»¶ä¸­æ–­</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HAL_TIM_PeriodElapsedCallback</span><span class="params">(TIM_HandleTypeDef *htim)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">if</span> (htim-&gt;Instance == TIM6)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å•ç‰‡æœº</category>
      </categories>
      <tags>
        <tag>stm32</tag>
        <tag>HAL</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXOæ­å»º</title>
    <url>/2021/04/28/HEXO%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<ol>
<li><p>å®‰è£… Node JS</p>
<p><a href="https://nodejs.org/zh-cn/download/">https://nodejs.org/zh-cn/download/</a></p>
</li>
<li><p>å®‰è£… GIt</p>
<p><a href="https://www.git-scm.com/download/">https://www.git-scm.com/download/</a></p>
</li>
<li><p>å®‰è£… Hexo</p>
</li>
<li></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo@4.2.0</span><br><span class="line"></span><br><span class="line">hexo init sakura115942</span><br><span class="line"></span><br><span class="line">cd sakura115942</span><br><span class="line"></span><br><span class="line">hexo generate</span><br><span class="line"></span><br><span class="line">hexo server</span><br><span class="line"></span><br><span class="line">æ ¹ç›®å½•ä¸‹çš„ _config.yml</span><br><span class="line"></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository:</span><br><span class="line">    github: git@github.com:sakura115942/sakura115942.github.io.git</span><br><span class="line">    gitee: git@gitee.com:sakura115942/sakura115942.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line">hexo deploy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------------------------------------------</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line">git checkout -b source</span><br><span class="line">git add -A</span><br><span class="line">git commit -m &quot;init blog&quot;</span><br><span class="line">git remote add origin git@github.com:sakura115942/sakura115942.github.io.git</span><br><span class="line">git push origin source</span><br><span class="line"></span><br><span class="line">git clone -b source git@github.com:sakura115942/sakura115942.github.io.git</span><br><span class="line"></span><br><span class="line">git clone git@github.com:sakura115942/sakura115942.github.io.git</span><br></pre></td></tr></table></figure>









<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p>
]]></content>
  </entry>
  <entry>
    <title>Linuxå®šæ—¶ä»»åŠ¡</title>
    <url>/2020/05/03/Linux%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/</url>
    <content><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logging.basicConfig(level=logging.INFO,</span><br><span class="line">                    datefmt=<span class="string">&#x27;%Y/%m/%d %H:%M:%S&#x27;</span>,</span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&#x27;[%(asctime)s] [%(levelname)s]: %(message)s&#x27;</span>)</span><br><span class="line">logger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    logger.info(<span class="string">&#x27;info message&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">* * * * * python3 /root/test.py &amp;&gt;&gt; /root/test.log</span><br></pre></td></tr></table></figure>


]]></content>
  </entry>
  <entry>
    <title>STM32_HAL_UART_CODE</title>
    <url>/2020/06/28/STM32-HAL-UART-CODE/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Androidè¯¾å ‚ç¬”è®° ()</title>
    <url>/2020/03/11/android-note-0/</url>
    <content><![CDATA[<h1 id="Androidå¼€å‘æ¦‚è¿°"><a href="#Androidå¼€å‘æ¦‚è¿°" class="headerlink" title="Androidå¼€å‘æ¦‚è¿°"></a>Androidå¼€å‘æ¦‚è¿°</h1><h2 id="ä»€ä¹ˆæ˜¯Android"><a href="#ä»€ä¹ˆæ˜¯Android" class="headerlink" title="ä»€ä¹ˆæ˜¯Android"></a>ä»€ä¹ˆæ˜¯Android</h2><p>Androidï¼ˆè¯»éŸ³ï¼šè‹±ï¼š[â€˜Ã¦ndrÉ”Éªd]ï¼Œç¾ï¼š[ËˆÃ¦nËŒdrÉ”Éªd]ï¼‰ï¼Œä¸­æ–‡å¸¸è¯‘ä½œå®‰å“æˆ–å®‰è‡´[15]ï¼Œæ˜¯ä¸€ä¸ªåŸºäºLinuxå†…æ ¸çš„å¼€æ”¾æºä»£ç ç§»åŠ¨æ“ä½œç³»ç»Ÿï¼Œç”±è°·æ­Œï¼ˆGoogleï¼‰æˆç«‹çš„å¼€æ”¾æ‰‹æŒè®¾å¤‡è”ç›ŸæŒç»­é¢†å¯¼ä¸å¼€å‘ï¼Œä¸»è¦è®¾è®¡ç”¨äºè§¦æ‘¸å±ç§»åŠ¨è®¾å¤‡å¦‚æ™ºèƒ½æ‰‹æœºå’Œå¹³æ¿ç”µè„‘ä¸å…¶ä»–ä¾¿æºå¼è®¾å¤‡ã€‚</p>
<span id="more"></span>

<h2 id="Androidçš„èµ·æº"><a href="#Androidçš„èµ·æº" class="headerlink" title="Androidçš„èµ·æº"></a>Androidçš„èµ·æº</h2><p>Android Inc.äº2003å¹´10æœˆç”±å®‰è¿ªÂ·é²å®¾ã€åˆ©å¥‡Â·ç±³çº³å°”ï¼ˆRich Minerï¼‰ã€å°¼å…‹Â·å¸­å°”æ–¯ï¼ˆNick Searsï¼‰ã€å…‹é‡Œæ–¯Â·æ€€ç‰¹ï¼ˆChris Whiteï¼‰åœ¨åŠ å·å¸•ç½—å¥¥å›¾åˆ›å»ºã€‚Androidæœ€åˆç”±å®‰è¿ªÂ·é²å®¾ç­‰äººå¼€å‘åˆ¶ä½œï¼Œæœ€åˆå¼€å‘è¿™ä¸ªç³»ç»Ÿçš„æ—©æœŸæ–¹å‘æ˜¯åˆ›å»ºä¸€ä¸ªæ•°å­—ç›¸æœºçš„å…ˆè¿›æ“ä½œç³»ç»Ÿï¼Œä½†æ˜¯åæ¥å‘ç°å¸‚åœºéœ€æ±‚ä¸å¤Ÿå¤§ï¼ŒåŠ ä¸Šæ™ºèƒ½æ‰‹æœºå¸‚åœºå¿«é€Ÿæˆé•¿ï¼Œäºæ˜¯Androidæˆä¸ºä¸€æ¬¾é¢å‘æ™ºèƒ½æ‰‹æœºçš„æ“ä½œç³»ç»Ÿã€‚äº2005å¹´7æœˆ11æ—¥Android Inc.è¢«ç¾å›½ç§‘æŠ€ä¼ä¸šGoogleæ”¶è´­ã€‚</p>
<h2 id="Androidçš„ä½“ç³»ç»“æ„"><a href="#Androidçš„ä½“ç³»ç»“æ„" class="headerlink" title="Androidçš„ä½“ç³»ç»“æ„"></a>Androidçš„ä½“ç³»ç»“æ„</h2><p><img src="1109px-Android-System-Architecture.svg.png" alt="AndroidSystemArchitecture"></p>
<h2 id="Androidè°ƒè¯•æ¡¥-ADB"><a href="#Androidè°ƒè¯•æ¡¥-ADB" class="headerlink" title="Androidè°ƒè¯•æ¡¥ (ADB)"></a>Androidè°ƒè¯•æ¡¥ (ADB)</h2><p>Android è°ƒè¯•æ¡¥ (adb) æ˜¯ä¸€ç§åŠŸèƒ½å¤šæ ·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯è®©æ‚¨ä¸è®¾å¤‡è¿›è¡Œé€šä¿¡ã€‚adb å‘½ä»¤å¯ç”¨äºæ‰§è¡Œå„ç§è®¾å¤‡æ“ä½œï¼ˆä¾‹å¦‚å®‰è£…å’Œè°ƒè¯•åº”ç”¨ï¼‰ï¼Œå¹¶æä¾›å¯¹ Unix shellï¼ˆå¯ç”¨æ¥åœ¨è®¾å¤‡ä¸Šè¿è¡Œå„ç§å‘½ä»¤ï¼‰çš„è®¿é—®æƒé™ã€‚å®ƒæ˜¯ä¸€ç§å®¢æˆ·ç«¯-æœåŠ¡å™¨ç¨‹åºï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªç»„ä»¶ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ï¼šç”¨äºå‘é€å‘½ä»¤ã€‚å®¢æˆ·ç«¯åœ¨å¼€å‘è®¡ç®—æœºä¸Šè¿è¡Œã€‚æ‚¨å¯ä»¥é€šè¿‡å‘å‡º adb å‘½ä»¤æ¥ä»å‘½ä»¤è¡Œç»ˆç«¯è°ƒç”¨å®¢æˆ·ç«¯ã€‚</li>
<li>å®ˆæŠ¤è¿›ç¨‹ (adbd)ï¼šåœ¨è®¾å¤‡ä¸Šè¿è¡Œå‘½ä»¤ã€‚å®ˆæŠ¤è¿›ç¨‹åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šä½œä¸ºåå°è¿›ç¨‹è¿è¡Œã€‚</li>
<li>æœåŠ¡å™¨ï¼šç®¡ç†å®¢æˆ·ç«¯å’Œå®ˆæŠ¤è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚æœåŠ¡å™¨åœ¨å¼€å‘æœºå™¨ä¸Šä½œä¸ºåå°è¿›ç¨‹è¿è¡Œã€‚<br>adb åŒ…å«åœ¨ Android SDK å¹³å°å·¥å…·è½¯ä»¶åŒ…ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ SDK ç®¡ç†å™¨ä¸‹è½½æ­¤è½¯ä»¶åŒ…ï¼Œè¯¥ç®¡ç†å™¨ä¼šå°†å…¶å®‰è£…åœ¨ android_sdk/platform-tools/ ä¸‹ã€‚æˆ–è€…ï¼Œå¦‚æœæ‚¨éœ€è¦ç‹¬ç«‹çš„ Android SDK å¹³å°å·¥å…·è½¯ä»¶åŒ…ï¼Œå¯ä»¥<a href="https://developer.android.google.cn/studio/releases/platform-tools"><em>ç‚¹å‡»æ­¤å¤„è¿›è¡Œä¸‹è½½</em></a>ã€‚</li>
</ul>
<h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><p>SDKåŒ…å«ä¸€å¥—å…¨é¢çš„å¼€å‘å·¥å…·ï¼ŒåŒ…æ‹¬è°ƒè¯•å™¨ã€å‡½æ•°åº“ã€åŸºäºè™šæ‹Ÿæœºé•œåƒçš„ä»¿çœŸå™¨ã€æ–‡æ¡£ï¼Œç¤ºä¾‹ä»£ç å’Œæ•™ç¨‹ã€‚æœ€åˆï¼ŒGoogleæ”¯æŒçš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰æ˜¯ä½¿ç”¨Androidå¼€å‘å·¥å…·ï¼ˆADTï¼‰æ’ä»¶çš„Eclipseï¼›åœ¨2014å¹´12æœˆï¼ŒGoogleåŸºäºIntelliJ IDEAè€Œå‘å¸ƒAndroid Studioï¼Œä½œä¸ºAndroidåº”ç”¨ç¨‹åºå¼€å‘çš„ä¸»è¦IDEã€‚å…¶ä»–å¯ç”¨çš„å¼€å‘å·¥å…·ï¼ŒåŒ…æ‹¬åº”ç”¨ç¨‹åºçš„æœ¬åœ°å¼€å‘åŒ…ï¼ˆNDKï¼‰ï¼Œæˆ–æ˜¯ç”¨äºCæˆ–C++ä¸­çš„æ‰©å±•ï¼ŒMITåº”ç”¨å¼€å‘è€…ï¼Œé‚£æ˜¯è®©æ–°æ‰‹ç¨‹åºå‘˜çš„è§†è§‰ç¯å¢ƒï¼Œä»¥åŠå„ç§è·¨å¹³å°ç§»åŠ¨åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚2014å¹´1æœˆï¼ŒGoogleæ¨å‡ºäº†ä¸€ä¸ªåŸºäºApache Cordovaçš„æ¡†æ¶ï¼ŒæŠŠGoogle Chromeã€HTML5åŠç½‘ç»œåº”ç”¨ç¨‹åºç§»æ¤åˆ°Androidï¼ŒåŒ…è£…äºæœ¬æœºåº”ç”¨ç¨‹åºçš„å¤–å£³ä¸­ã€‚</p>
<h1 id="æ•°æ®åº“ç®€ä»‹"><a href="#æ•°æ®åº“ç®€ä»‹" class="headerlink" title="æ•°æ®åº“ç®€ä»‹"></a>æ•°æ®åº“ç®€ä»‹</h1><h2 id="ä»€ä¹ˆæ˜¯æ•°æ®åº“"><a href="#ä»€ä¹ˆæ˜¯æ•°æ®åº“" class="headerlink" title="ä»€ä¹ˆæ˜¯æ•°æ®åº“"></a>ä»€ä¹ˆæ˜¯æ•°æ®åº“</h2><p><strong>æ•°æ®åº“</strong> æ˜¯æŒ‰ç…§ <strong>æ•°æ®ç»“æ„</strong> æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“â€ã€‚æ˜¯ä¸€ä¸ªé•¿æœŸå­˜å‚¨åœ¨è®¡ç®—æœºå†…çš„ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„ã€ç»Ÿä¸€ç®¡ç†çš„å¤§é‡æ•°æ®çš„é›†åˆã€‚<br>æ•°æ®åº“æ˜¯ä»¥ä¸€å®šæ–¹å¼å‚¨å­˜åœ¨ä¸€èµ·ã€èƒ½ä¸å¤šä¸ªç”¨æˆ·å…±äº«ã€å…·æœ‰å°½å¯èƒ½å°çš„å†—ä½™åº¦ã€ä¸åº”ç”¨ç¨‹åºå½¼æ­¤ç‹¬ç«‹çš„æ•°æ®é›†åˆï¼Œå¯è§†ä¸º <strong>ç”µå­åŒ–çš„æ–‡ä»¶æŸœ</strong> â€”â€”å­˜å‚¨ç”µå­æ–‡ä»¶çš„å¤„æ‰€ï¼Œç”¨æˆ·å¯ä»¥å¯¹æ–‡ä»¶ä¸­çš„æ•°æ®è¿›è¡Œæ–°å¢ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
<h3 id="æ•°æ®åº“çš„åŸºç¡€çŸ¥è¯†"><a href="#æ•°æ®åº“çš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="æ•°æ®åº“çš„åŸºç¡€çŸ¥è¯†"></a>æ•°æ®åº“çš„åŸºç¡€çŸ¥è¯†</h3><p>æ•°æ®åº“ç³»ç»Ÿç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ•°æ®åº“å®ä½“</li>
<li>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</li>
<li>æ•°æ®åº“åº”ç”¨ç¨‹åº</li>
</ul>
<p>SQLè¯­è¨€æ˜¯ä¸€ç§æ•°æ®åº“æŸ¥è¯¢è¯­è¨€å’Œç¨‹åºè®¾è®¡è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“è¯­è¨€ï¼Œä¸»è¦ç”¨äºç®¡ç†æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œå¦‚å­˜å–æ•°æ®ã€æŸ¥è¯¢æ•°æ®ã€æ›´æ–°æ•°æ®ç­‰ã€‚å…³ç³»å‹æ•°æ®åº“è¯­è¨€ç”±å››éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ•°æ®å®šä¹‰è¯­è¨€ (DDL)</li>
<li>æ•°æ®æ“ä½œè¯­è¨€ (DML)</li>
<li>æ•°æ®æŸ¥è¯¢è¯­è¨€ (DQL)</li>
<li>æ•°æ®æ§åˆ¶è¯­è¨€ (DCL)</li>
</ul>
<h3 id="IP-ç½‘ç»œåœ°å€-å’Œ-port-ç«¯å£-çš„æ¦‚å¿µ"><a href="#IP-ç½‘ç»œåœ°å€-å’Œ-port-ç«¯å£-çš„æ¦‚å¿µ" class="headerlink" title="IP (ç½‘ç»œåœ°å€) å’Œ port (ç«¯å£) çš„æ¦‚å¿µ"></a>IP (ç½‘ç»œåœ°å€) å’Œ port (ç«¯å£) çš„æ¦‚å¿µ</h3><ul>
<li>ipæ˜¯ç”¨äºåŒºåˆ†ç½‘ç»œä¸Šä¸åŒçš„è®¾å¤‡</li>
<li>portæ˜¯ç”¨äºåŒºåˆ†åŒä¸€è®¾å¤‡ä¸Šä¸åŒçš„ç½‘ç»œåº”ç”¨ç¨‹åº</li>
</ul>
<h3 id="cmd-æ§åˆ¶å°å‘½ä»¤"><a href="#cmd-æ§åˆ¶å°å‘½ä»¤" class="headerlink" title="cmd æ§åˆ¶å°å‘½ä»¤"></a>cmd æ§åˆ¶å°å‘½ä»¤</h3><p>åœ¨ç›®å½•è¿›è¡Œæ“ä½œ</p>
<ul>
<li>æ“ä½œç›®å½•ï¼ˆæ¦‚å¿µï¼‰</li>
<li>æ‰§è¡Œç¨‹åº</li>
<li>æŸ¥çœ‹ç›®å½•å†…å®¹</li>
<li>æ”¹å˜æ“ä½œç›®å½•</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">dir</span></span><br><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> ..</span><br><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> c:\user\admin\desktop</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ‡æ¢ç›˜ç¬¦</li>
<li>ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„</li>
</ul>
<h3 id="å¯åŠ¨å’Œåœæ­¢-MySQL-æ•°æ®åº“ç³»ç»Ÿ"><a href="#å¯åŠ¨å’Œåœæ­¢-MySQL-æ•°æ®åº“ç³»ç»Ÿ" class="headerlink" title="å¯åŠ¨å’Œåœæ­¢ MySQL æ•°æ®åº“ç³»ç»Ÿ"></a>å¯åŠ¨å’Œåœæ­¢ MySQL æ•°æ®åº“ç³»ç»Ÿ</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> net stop mysql</span><br><span class="line"><span class="variable">$</span> net <span class="built_in">start</span> mysql</span><br></pre></td></tr></table></figure>

<h2 id="æ•°æ®åº“çš„ä½¿ç”¨"><a href="#æ•°æ®åº“çš„ä½¿ç”¨" class="headerlink" title="æ•°æ®åº“çš„ä½¿ç”¨"></a>æ•°æ®åº“çš„ä½¿ç”¨</h2><h3 id="æ•°æ®åº“è¿æ¥"><a href="#æ•°æ®åº“è¿æ¥" class="headerlink" title="æ•°æ®åº“è¿æ¥"></a>æ•°æ®åº“è¿æ¥</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> mysql <span class="literal">-V</span></span><br><span class="line"><span class="variable">$</span> mysql <span class="literal">-h</span> localhost <span class="literal">-P</span> <span class="number">3306</span> <span class="literal">-u</span> root <span class="literal">-p</span></span><br><span class="line">Enter password:******</span><br></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mysql&gt; status</span><br><span class="line">mysql&gt; <span class="built_in">select</span> version();</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®åº“åˆ›å»ºå’Œåˆ é™¤"><a href="#æ•°æ®åº“åˆ›å»ºå’Œåˆ é™¤" class="headerlink" title="æ•°æ®åº“åˆ›å»ºå’Œåˆ é™¤"></a>æ•°æ®åº“åˆ›å»ºå’Œåˆ é™¤</h3><h4 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE android_class_demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> android_class_demo;</span><br></pre></td></tr></table></figure>
<h4 id="é€‰æ‹©æ•°æ®åº“"><a href="#é€‰æ‹©æ•°æ®åº“" class="headerlink" title="é€‰æ‹©æ•°æ®åº“"></a>é€‰æ‹©æ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">USE android_class_demo</span><br></pre></td></tr></table></figure>
<h4 id="åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤æ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE android_class_demo;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥çœ‹å·²æœ‰æ•°æ®åº“"><a href="#æŸ¥çœ‹å·²æœ‰æ•°æ®åº“" class="headerlink" title="æŸ¥çœ‹å·²æœ‰æ•°æ®åº“"></a>æŸ¥çœ‹å·²æœ‰æ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> android_class_demo <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> django_mysql       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> python             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h3 id="è¡¨çš„åˆ›å»ºå’Œåˆ é™¤"><a href="#è¡¨çš„åˆ›å»ºå’Œåˆ é™¤" class="headerlink" title="è¡¨çš„åˆ›å»ºå’Œåˆ é™¤"></a>è¡¨çš„åˆ›å»ºå’Œåˆ é™¤</h3><h4 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h4><p><strong>å¯ä»¥é€šè¿‡ AUTO_INCREMENT è®¾ç½®ä¸»é”®è‡ªå¢ UNIQUE æ•°æ®å”¯ä¸€</strong><br><strong>åå¼•å·åªç”¨äº å­—æ®µå æˆ– è¡¨å</strong><br><strong>å­—ç¬¦ä¸²æŒ‡ç”¨å•å¼•å·(â€˜â€™â€™)æˆ–åŒå¼•å·(â€˜â€œâ€™)å¼•èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">    `id` <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">64</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `gender` <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    `age` TINYINT,</span><br><span class="line">    `class` <span class="type">VARCHAR</span>(<span class="number">64</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `scores` (</span><br><span class="line">    `id` <span class="type">INT</span>,</span><br><span class="line">    `course` <span class="type">VARCHAR</span>(<span class="number">64</span>),</span><br><span class="line">    `score` <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `meal_card` (</span><br><span class="line">    `id` <span class="type">INT</span>,</span><br><span class="line">    `cardnum` <span class="type">VARCHAR</span>(<span class="number">8</span>),</span><br><span class="line">    `balance` <span class="type">SMALLINT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `courses` (</span><br><span class="line">    `course` <span class="type">VARCHAR</span>(<span class="number">64</span>),</span><br><span class="line">    `t_name` <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `demo` (</span><br><span class="line">    `id` <span class="type">INT</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> demo;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥çœ‹è¡¨"><a href="#æŸ¥çœ‹è¡¨" class="headerlink" title="æŸ¥çœ‹è¡¨"></a>æŸ¥çœ‹è¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> TABLES;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> demo</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+------------------------------+</span><br><span class="line">| Tables_in_android_class_demo |</span><br><span class="line">+------------------------------+</span><br><span class="line">| meal_card                    |</span><br><span class="line">| score                        |</span><br><span class="line">| student                      |</span><br><span class="line">+------------------------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹å·²å­˜åœ¨è¡¨å­—æ®µ"><a href="#ä¿®æ”¹å·²å­˜åœ¨è¡¨å­—æ®µ" class="headerlink" title="ä¿®æ”¹å·²å­˜åœ¨è¡¨å­—æ®µ"></a>ä¿®æ”¹å·²å­˜åœ¨è¡¨å­—æ®µ</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> demo <span class="keyword">DROP</span> num;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> demo <span class="keyword">ADD</span> num <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> demo CHANGE num num <span class="type">CHAR</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> demo MODIFY num <span class="type">CHAR</span>(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹"><a href="#æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹" class="headerlink" title="æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹"></a>æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹</h3><h4 id="å¢æ·»æ•°æ®"><a href="#å¢æ·»æ•°æ®" class="headerlink" title="å¢æ·»æ•°æ®"></a>å¢æ·»æ•°æ®</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student ( id, name, gender, age, class)</span><br><span class="line">                    <span class="keyword">VALUES</span></span><br><span class="line">                    ( <span class="number">1</span> , <span class="string">&#x27;request&#x27;</span>,   <span class="number">0</span> ,  <span class="number">20</span>, <span class="number">1807</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span> ( <span class="number">2</span> , <span class="string">&#x27;re1&#x27;</span>,   <span class="number">1</span> ,  <span class="number">20</span>, <span class="number">1807</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span> ( <span class="number">5</span> , <span class="string">&#x27;re2&#x27;</span>,   <span class="number">1</span> ,  <span class="number">22</span>, <span class="number">1807</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span> ( <span class="number">4</span> , <span class="string">&#x27;ddd&#x27;</span>,   <span class="number">1</span> ,  <span class="number">22</span>, <span class="number">1807</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> scores <span class="keyword">VALUES</span> ( <span class="number">1</span>, <span class="string">&#x27;math&#x27;</span>, <span class="number">50</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> scores <span class="keyword">VALUES</span> ( <span class="number">2</span>, <span class="string">&#x27;math&#x27;</span>, <span class="number">70</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> scores <span class="keyword">VALUES</span> ( <span class="number">3</span>, <span class="string">&#x27;java&#x27;</span>, <span class="number">75</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> scores <span class="keyword">VALUES</span> ( <span class="number">4</span>, <span class="string">&#x27;java&#x27;</span>, <span class="number">75</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> meal_card <span class="keyword">VALUES</span> ( <span class="number">1</span>, &quot;01180700&quot;, <span class="number">50</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> meal_card <span class="keyword">VALUES</span> ( <span class="number">5</span>, &quot;01180900&quot;, <span class="number">60</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> meal_card <span class="keyword">VALUES</span> ( <span class="number">7</span>, &quot;01181000&quot;, <span class="number">80</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> courses <span class="keyword">VALUES</span> ( <span class="string">&#x27;java&#x27;</span>, <span class="string">&#x27;hewei&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> gender<span class="operator">=</span><span class="number">0</span> <span class="keyword">AND</span> age<span class="operator">=</span><span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> age<span class="operator">&gt;=</span><span class="number">22</span> <span class="keyword">OR</span> gender<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> age <span class="keyword">LIKE</span> <span class="string">&#x27;%2&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> name, class <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> id <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> scores <span class="keyword">WHERE</span> course<span class="operator">=</span>&quot;math&quot; <span class="keyword">AND</span> score<span class="operator">&gt;=</span><span class="number">60</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> name, class <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> id <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> scores</span><br><span class="line"><span class="keyword">WHERE</span> course <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> course <span class="keyword">FROM</span> courses <span class="keyword">WHERE</span> t_name<span class="operator">=</span>&quot;hewei&quot;));</span><br><span class="line"># ç¬›å¡å°”</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> meal_card,student <span class="keyword">where</span> meal_card.id<span class="operator">=</span>student.id;</span><br></pre></td></tr></table></figure>
<h4 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">UPDATE student <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">50</span>, gender<span class="operator">=</span><span class="number">2</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="å¯¼å‡ºæ•°æ®"><a href="#å¯¼å‡ºæ•°æ®" class="headerlink" title="å¯¼å‡ºæ•°æ®"></a>å¯¼å‡ºæ•°æ®</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;D:/student.txt&#x27;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Android</category>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title>git ç¬”è®°</title>
    <url>/2019/12/24/git%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>è®°å½• git ç›¸å…³</p>
<span id="more"></span>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p><a href="https://git-scm.com/downloads">ä¸‹è½½åœ°å€</a>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get install git</span><br><span class="line"></span><br><span class="line">yum -y install git</span><br><span class="line"></span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;username&quot;</span></span><br><span class="line"></span><br><span class="line">git config --global user.email username@example.com</span><br><span class="line"></span><br><span class="line">git config --list --show-origin</span><br></pre></td></tr></table></figure>
<h1 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h1><p>ä»“åº“çš„å»ºç«‹æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>æœ¬åœ°åˆå§‹åŒ–</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨è¿œç¨‹æ–°å»ºä»“åº“åå…‹éš†ï¼Œæˆ–è€…æ˜¯å…‹éš†å·²æœ‰ä»“åº“</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:git/git.git</span><br></pre></td></tr></table></figure>

<h1 id="æš‚å­˜"><a href="#æš‚å­˜" class="headerlink" title="æš‚å­˜"></a>æš‚å­˜</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git status</span><br><span class="line"></span><br><span class="line">git add *.py</span><br></pre></td></tr></table></figure>
<p>å½“ç›®æ ‡æ–‡ä»¶å·²è·Ÿè¸ªæ—¶ï¼Œå¯ä»¥ä½¿ç”¨-pï¼Œåœ¨æš‚å­˜æ—¶æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶å˜åŒ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add -p</span><br></pre></td></tr></table></figure>

<h1 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br></pre></td></tr></table></figure>
<p>å°†æ‰€æœ‰å·²è·Ÿè¸ªæ–‡ä»¶ç›´æ¥ commitï¼Œè·³è¿‡ stage</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git commit -a -m <span class="string">&quot;first commit&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>
<h1 id="æ’¤é”€"><a href="#æ’¤é”€" class="headerlink" title="æ’¤é”€"></a>æ’¤é”€</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -- README.md</span><br><span class="line"></span><br><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure>

<h1 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h1><p>åˆ›å»ºåˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch develop</span><br><span class="line"></span><br><span class="line">git checkout develop</span><br></pre></td></tr></table></figure>
<p>å¿«é€Ÿåˆ‡æ¢åˆ›å»ºåˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -b develop</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤åˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -d develop</span><br></pre></td></tr></table></figure>

<h1 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git merge develop</span><br></pre></td></tr></table></figure>

<h1 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=format:<span class="string">&quot;%h %s&quot;</span> --graph</span><br></pre></td></tr></table></figure>
<p>å°šæœªæš‚å­˜çš„æ”¹åŠ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure>
<p>æš‚å­˜æ–‡ä»¶å’Œæœ€åä¸€æ¬¡æäº¤çš„æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git diff --staged</span><br></pre></td></tr></table></figure>

<h1 id="è¿œç¨‹"><a href="#è¿œç¨‹" class="headerlink" title="è¿œç¨‹"></a>è¿œç¨‹</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;username@example.com&quot;</span></span><br><span class="line"></span><br><span class="line">git remote add origin</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<h1 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h1><p><a href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">venv/</span><br><span class="line">.idea/</span><br><span class="line">__pycache__/</span><br><span class="line"></span><br><span class="line">*.py[cod]</span><br><span class="line">mysettings.py</span><br><span class="line"></span><br><span class="line">!*.exe</span><br></pre></td></tr></table></figure>
<p>åœ¨ç›®æ ‡æ–‡ä»¶è¢«å¿½ç•¥çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨ -f å¼ºåˆ¶æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add -f object.py</span><br></pre></td></tr></table></figure>

<h1 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h1><p><a href="https://git-scm.com/docs">å®˜æ–¹å‚è€ƒ</a>  </p>
<p><a href="https://github.com/521xueweihan/git-tips">Gitçš„å¥‡æŠ€æ·«å·§ğŸ™ˆ</a></p>
]]></content>
      <categories>
        <category>VCS</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>h2</title>
    <url>/2021/04/20/h2/</url>
    <content><![CDATA[<p><img src="%E6%94%BF%E6%B2%BB%E7%B4%A0%E5%85%BB.jpg" alt="alt"></p>
<p><img src="image-20210427134819716.png" alt="image-20210427134819716"></p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2022/01/17/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>hello3</title>
    <url>/2021/04/26/hello3/</url>
    <content><![CDATA[<p><img src="66675067_p0.jpg" alt="alt"></p>
]]></content>
  </entry>
  <entry>
    <title>mysqlå®‰è£…æ³¨æ„äº‹é¡¹</title>
    <url>/2020/08/30/mysql%E5%AE%89%E8%A3%85%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    <content><![CDATA[<p>è®°å½•ï¼š8æœˆ17åœ¨é˜¿é‡Œäº‘ä¸Šå®‰è£…MySQLæ³¨æ„äº‹é¡¹<br>1.å¦‚æœMySQLæ²¡æœ‰å¯åŠ¨ï¼Œåˆ™é‡å¯æœåŠ¡å™¨ï¼Œå®‰è£…æ•™ç¨‹å‚è€ƒèœé¸ŸMySQLæ•™ç¨‹<br>2.MySQL5.7ä»¥ä¸Šç‰ˆæœ¬ä¼šç”Ÿæˆé»˜è®¤å¯†ç ï¼Œéœ€è¦å‰å¾€usr/log/mysql/mysqldæŸ¥çœ‹æ—¥å¿—<br>3.ä½¿ç”¨è¿™ä¸ªå¯†ç ç™»é™†åéœ€è¦ä¿®æ”¹ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œå…¶ä»–æ“ä½œ<br>4.è¿œç¨‹è¿æ¥è¯¥æ•°æ®åº“çš„æ—¶å€™ï¼Œéœ€è¦å¼€æ”¾æœåŠ¡å™¨æä¾›å•†çš„é˜²ç«å¢™ç«¯å£ä»¥åŠåœ¨MySQLé‡Œé¢è®¾ç½®å¯è¿æ¥çš„ip</p>
]]></content>
  </entry>
  <entry>
    <title>pythonç”Ÿæˆå¼</title>
    <url>/2020/03/26/python%E7%94%9F%E6%88%90%E5%BC%8F/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>é˜Ÿåˆ—çš„å®ç°</title>
    <url>/2020/04/09/queue-realize/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title>requestsçš„åŸºæœ¬ä½¿ç”¨</title>
    <url>/2020/01/22/requests%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla&#x27;</span>&#125;</span><br><span class="line">params = &#123;<span class="string">&#x27;key&#x27;</span>: <span class="string">&#x27;value&#x27;</span>&#125;</span><br><span class="line">data=&#123;<span class="string">&#x27;key&#x27;</span>: <span class="string">&#x27;value&#x27;</span>&#125;</span><br><span class="line">cookies = &#123;&#125;</span><br><span class="line">r = requests.get(<span class="string">&#x27;https://httpbin.org/get&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r = requests.post(<span class="string">&#x27;https://httpbin.org/post&#x27;</span>, data=data)</span><br><span class="line"></span><br><span class="line">r.encoding = r.apparent_encoding</span><br><span class="line"><span class="built_in">print</span>(r.status_code)</span><br><span class="line"><span class="built_in">print</span>(r.url)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br><span class="line"><span class="built_in">print</span>(r.json)</span><br></pre></td></tr></table></figure>

<h1 id="session"><a href="#session" class="headerlink" title="session"></a>session</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">session = requests.session()</span><br></pre></td></tr></table></figure>

<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://requests.readthedocs.io/en/master/">https://requests.readthedocs.io/en/master/</a></p>
]]></content>
  </entry>
  <entry>
    <title>scrapy shell</title>
    <url>/2020/03/20/scrapy-shell/</url>
    <content><![CDATA[<p><a href="https://docs.scrapy.org/en/latest/topics/shell.html">https://docs.scrapy.org/en/latest/topics/shell.html</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scrapy shell</span><br><span class="line"></span><br><span class="line">$ scrapy shell ./path/to/file.html</span><br><span class="line"></span><br><span class="line">$ scrapy shell -s USER_AGENT=<span class="string">&quot;Mozilla&quot;</span> <span class="string">&quot;https://www.douban.com/doulist/43395943/&quot;</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url = <span class="string">&#x27;https://www.douban.com/doulist/43395943/&#x27;</span></span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&#x27;user-Agent&#x27;</span>:<span class="string">&#x27;Mozilla&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">cookis = <span class="string">&quot;_gd=123456789; _gid=123456789&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°† str çš„ cookie è§£ææˆ dict</span></span><br><span class="line">cookies = <span class="built_in">dict</span>([item.split(<span class="string">&quot;=&quot;</span>, <span class="number">1</span>) <span class="keyword">for</span> item <span class="keyword">in</span> cookie.split(<span class="string">&quot;; &quot;</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»º Request å¯¹è±¡</span></span><br><span class="line">request = scrapy.Request(url, cookies=cookies, headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘èµ·è¯·æ±‚</span></span><br><span class="line">fetch(request)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æµè§ˆå™¨æŸ¥çœ‹ response</span></span><br><span class="line">view(response)</span><br><span class="line"></span><br><span class="line"><span class="comment"># response (type byte)</span></span><br><span class="line">response.body</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
        <category>çˆ¬è™«</category>
      </categories>
      <tags>
        <tag>scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>scrapyçˆ¬å–pixiv(æ ¹æ®ç”»å¸ˆ)</title>
    <url>/2020/03/19/scrapy%E7%88%AC%E5%8F%96pixiv(%E6%A0%B9%E6%8D%AE%E7%94%BB%E5%B8%88)/</url>
    <content><![CDATA[<p><img src="78714767_p0.jpg" alt="alt"></p>
<span id="more"></span>

<p>çˆ¬å– Pç«™ç”»å¸ˆä½œå“çš„æ—¶å€™çš„å‡ ä¸ªç‚¹ï¼š</p>
<ul>
<li><p>ç”±äºæš‚æ—¶æ²¡æœ‰å»äº†è§£ scrapy çš„socks5ä»£ç†ï¼Œæ‰€ä»¥éœ€è¦æœ¬åœ°å°†ä»£ç†æŒ‚ä¸ºå…¨å±€ä»£ç†ã€‚</p>
</li>
<li><p>åŸæœ¬ä¹‹å‰Pç«™æ¨¡æ‹Ÿç™»é™†éå¸¸ç®€å•ï¼Œåªéœ€è¦ä»ç™»é™†é¡µé¢è·å–å‚æ•°å³å¯ï¼Œç°åœ¨æ·»åŠ äº† GoogleéªŒè¯ï¼Œæš‚æ—¶ä¸å»è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå…ˆç”¨cookieç™»é™†ã€‚</p>
</li>
<li><p>å›¾ç‰‡æœ‰çš„ä¸ºåŠ¨æ€å›¾ï¼Œå¹¶ä¸æ˜¯ç›´æ¥çš„åŠ¨æ€å›¾ï¼Œè€Œæ˜¯åˆ†æˆæ¯ä¸€å¸§åå‹ç¼©ã€‚éœ€è¦æŠ“å–é“¾æ¥ä¸‹è½½æ•´ä¸ªå‹ç¼©åŒ…è§£å‹ååˆæˆåŠ¨æ€å›¾ã€‚</p>
</li>
<li><p>æœ‰çš„å›¾ç‰‡ä¸ºå¤šå¼ ï¼Œéœ€è¦è·å–å…·ä½“å¼ æ•°åç”Ÿæˆurlå†è¯·æ±‚ã€‚</p>
</li>
<li><p>ä¸‹è½½åŸå›¾æ–¹é¢å’Œä»¥å‰ä¸€æ ·åªéœ€è¦åŠ ä¸ª referer  </p>
</li>
<li><p>imageio åˆæˆåçš„ gif å ç”¨è¾ƒå¤§ï¼Œéœ€è¦çš„è¯ imageio å®˜æ–¹æ–‡æ¡£ä¸­æœ‰æ–¹æ³•å¯ä»¥å‹ç¼©å›¾ç‰‡ã€‚</p>
</li>
</ul>
<p>ç”±äºåŠ¨å›¾æ‰€éœ€è¦ä¸‹è½½çš„zipå¹¶ä¸é€‚ç”¨äº ImagePipelineï¼Œæ‰€ä»¥å…¨éƒ¨æ”¹ç”¨ FilePipelineã€‚ä»å®˜æ–¹æ–‡æ¡£æ¥çœ‹ï¼ŒImagePipeline æœ‰ç¼©ç•¥å›¾ï¼Œæ£€æŸ¥å›¾ç‰‡å¤§å°ï¼Œè½¬æ¢å›¾ç‰‡æ ¼å¼çš„åŠŸèƒ½ã€‚</p>
<p>PIXIV/run.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.cmdline <span class="keyword">import</span> execute</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    user_id = <span class="string">&#x27;216403&#x27;</span></span><br><span class="line">    command = <span class="string">f&#x27;scrapy crawl author -a user_id=<span class="subst">&#123;user_id&#125;</span>&#x27;</span></span><br><span class="line">    execute(command.split(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å…¥å£æ–‡ä»¶ä¸­å¡«å…¥ç”»å¸ˆ id å³å¯ã€‚è°ƒè¯•æ—¶é€‰ç”¨çš„æ˜¯ ã—ã‚‰ã³ çš„ idï¼Œå³ ã‚Šã‚…ã†ãŠã†ã®ãŠã—ã”ã¨!ï¼ˆé¾™ç‹çš„å·¥ä½œï¼ï¼‰æ’ç”»å’Œ Fate/Grand Order å·´å¾¡å‰çš„ç”»å¸ˆ</p>
<p>PIXIV\items.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArtworksItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    <span class="built_in">id</span> = scrapy.Field()              <span class="comment"># æ’ç”» id</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    description = scrapy.Field()     <span class="comment"># æè¿°</span></span><br><span class="line">    illust_type = scrapy.Field()     <span class="comment"># æ’ç”» ç±»å‹ 0ï¼šæ’ç”» 1ï¼šæ¼«ç”» 2ï¼šgif</span></span><br><span class="line">    author = scrapy.Field()</span><br><span class="line">    tags = scrapy.Field()</span><br><span class="line"></span><br><span class="line">    create_date = scrapy.Field()</span><br><span class="line">    upload_date = scrapy.Field()</span><br><span class="line"></span><br><span class="line">    width = scrapy.Field()</span><br><span class="line">    height = scrapy.Field()</span><br><span class="line">    bookmark_count = scrapy.Field()  <span class="comment"># æ”¶è—</span></span><br><span class="line">    like_count = scrapy.Field()      <span class="comment"># èµ</span></span><br><span class="line">    comment_count = scrapy.Field()   <span class="comment"># è¯„è®ºæ•°é‡</span></span><br><span class="line">    view_count = scrapy.Field()      <span class="comment"># æµè§ˆé‡</span></span><br><span class="line"></span><br><span class="line">    referer = scrapy.Field()</span><br><span class="line"></span><br><span class="line">    thumb_url = scrapy.Field()       <span class="comment"># æ’ç”»å„ç§å°ºå¯¸é“¾æ¥</span></span><br><span class="line">    small_url = scrapy.Field()</span><br><span class="line">    regular_url = scrapy.Field()</span><br><span class="line">    original_url = scrapy.Field()</span><br><span class="line"></span><br><span class="line">    page_count = scrapy.Field()      <span class="comment"># æ’ç”»å¼ æ•°</span></span><br><span class="line">    gif_zip_url = scrapy.Field()     <span class="comment"># gifå›¾åŒ…åœ°å€</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>item ä¸­ä¸»è¦æ˜¯æ’ç”»çš„å„ç§ä¿¡æ¯å­—æ®µã€‚</p>
<p>PIXIV\spiders\author.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ArtworksItem</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># https://i.pximg.net/img-zip-ugoira/img/2014/09/15/04/28/24/45988308_ugoira600x600.zip</span></span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯gif è°ƒç”¨api è·å– api response åè§£æbody è·å¾— gif zip</span></span><br><span class="line"><span class="comment"># https://www.pixiv.net/ajax/illust/45988308/ugoira_meta çš„åœ°å€</span></span><br><span class="line">cookie = <span class="string">&#x27;å¡«cookie&#x27;</span></span><br><span class="line">cookies = <span class="built_in">dict</span>([item.split(<span class="string">&quot;=&quot;</span>, <span class="number">1</span>) <span class="keyword">for</span> item <span class="keyword">in</span> cookie.split(<span class="string">&quot;; &quot;</span>)])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AuthorSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;author&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;pixiv.net&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span>(<span class="params">self</span>):</span></span><br><span class="line">        user_id = <span class="built_in">getattr</span>(self, <span class="string">&#x27;user_id&#x27;</span>)</span><br><span class="line">        url = <span class="string">f&#x27;https://www.pixiv.net/ajax/user/<span class="subst">&#123;user_id&#125;</span>/profile/all&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> scrapy.Request(url, callback=self.parse, cookies=cookies)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        data = json.loads(response.text)</span><br><span class="line">        illusts = data[<span class="string">&#x27;body&#x27;</span>][<span class="string">&#x27;illusts&#x27;</span>].keys()</span><br><span class="line">        manga = data[<span class="string">&#x27;body&#x27;</span>][<span class="string">&#x27;manga&#x27;</span>].keys()</span><br><span class="line">        _<span class="built_in">all</span> = <span class="built_in">list</span>(illusts) + <span class="built_in">list</span>(manga)</span><br><span class="line">        <span class="keyword">for</span> artworks_id <span class="keyword">in</span> _<span class="built_in">all</span>:</span><br><span class="line">            url = <span class="string">f&#x27;https://www.pixiv.net/artworks/<span class="subst">&#123;artworks_id&#125;</span>&#x27;</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url, callback=self.parse_artworks)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_artworks</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        meta = json.loads(response.xpath(<span class="string">&#x27;//meta[@id=&quot;meta-preload-data&quot;]/@content&#x27;</span>).get())</span><br><span class="line">        _ = meta[<span class="string">&#x27;illust&#x27;</span>]</span><br><span class="line">        detail = _[<span class="built_in">list</span>(_)[<span class="number">0</span>]]</span><br><span class="line">        item = ArtworksItem()</span><br><span class="line">        item[<span class="string">&#x27;id&#x27;</span>] = detail.get(<span class="string">&#x27;id&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;title&#x27;</span>] = detail.get(<span class="string">&#x27;title&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;description&#x27;</span>] = detail.get(<span class="string">&#x27;description&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;author&#x27;</span>] = detail.get(<span class="string">&#x27;userName&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        tags = detail.get(<span class="string">&#x27;userIllusts&#x27;</span>, <span class="literal">None</span>).get(item[<span class="string">&#x27;id&#x27;</span>], <span class="literal">None</span>).get(<span class="string">&#x27;tags&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;tags&#x27;</span>] = <span class="string">&#x27; &#x27;</span>.join(tags)</span><br><span class="line">        item[<span class="string">&#x27;illust_type&#x27;</span>] = detail.get(<span class="string">&#x27;illustType&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;create_date&#x27;</span>] = detail.get(<span class="string">&#x27;createDate&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;upload_date&#x27;</span>] = detail.get(<span class="string">&#x27;uploadDate&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">        item[<span class="string">&#x27;width&#x27;</span>] = detail.get(<span class="string">&#x27;width&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;height&#x27;</span>] = detail.get(<span class="string">&#x27;width&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;bookmark_count&#x27;</span>] = detail.get(<span class="string">&#x27;bookmarkCount&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;like_count&#x27;</span>] = detail.get(<span class="string">&#x27;likeCount&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;comment_count&#x27;</span>] = detail.get(<span class="string">&#x27;commentCount&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;view_count&#x27;</span>] = detail.get(<span class="string">&#x27;viewCount&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">        item[<span class="string">&#x27;referer&#x27;</span>] = response.url</span><br><span class="line">        urls = detail.get(<span class="string">&#x27;urls&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> urls <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            item[<span class="string">&#x27;thumb_url&#x27;</span>] = urls.get(<span class="string">&#x27;thumb&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">            item[<span class="string">&#x27;small_url&#x27;</span>] = urls.get(<span class="string">&#x27;small&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">            item[<span class="string">&#x27;regular_url&#x27;</span>] = urls.get(<span class="string">&#x27;regular&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">            item[<span class="string">&#x27;original_url&#x27;</span>] = urls.get(<span class="string">&#x27;original&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item[<span class="string">&#x27;page_count&#x27;</span>] = detail.get(<span class="string">&#x27;pageCount&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;illust_type&#x27;</span>] == <span class="number">2</span>:</span><br><span class="line">            url = <span class="string">&#x27;https://www.pixiv.net/ajax/illust/&#123;&#125;/ugoira_meta&#x27;</span>.<span class="built_in">format</span>(item[<span class="string">&#x27;id&#x27;</span>])</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url, callback=self.parse_gif, meta=&#123;<span class="string">&#x27;item&#x27;</span>: item&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_gif</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        data = json.loads(response.text)</span><br><span class="line">        gif_zip_url = data.get(<span class="string">&#x27;body&#x27;</span>, <span class="literal">None</span>).get(<span class="string">&#x27;originalSrc&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        item = response.meta[<span class="string">&#x27;item&#x27;</span>]</span><br><span class="line">        item[<span class="string">&#x27;gif_zip_url&#x27;</span>] = gif_zip_url</span><br><span class="line">        <span class="keyword">yield</span> item</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>spider ä¸­è¦æ³¨æ„çš„ç‚¹å°±æ˜¯åˆ¤æ–­æ’ç”»ç±»å‹äº†ï¼Œå¦‚æœæ˜¯ git çš„è¯å°±è¦é€šè¿‡æŠ“åŒ…å‡ºæ¥çš„æ¥å£å†ä¸€æ¬¡è¯·æ±‚ï¼Œä»¥è·å¾— gif å›¾åŒ…çš„é“¾æ¥ï¼Œæ‰€ä»¥åœ¨éœ€è¦å°† item é€šè¿‡ meta ä¼ é€’ï¼Œç›´åˆ°æ‰€ä»¥ä¿¡æ¯æ”¶é›†å®Œæ¯•å yieldã€‚  </p>
<p>æ­¤å¤„å¯ä»¥ç›´æ¥å¡«å…¥æµè§ˆå™¨ä¸­èµ‹å€¼çš„ cookieï¼Œdict([item.split(â€œ=â€, 1) for item in cookie.split(â€œ; â€œ)]) ä¼šå°†å…¶è½¬åŒ– dictã€‚</p>
<p>PIXIV\pipelines.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> Request</span><br><span class="line"><span class="keyword">from</span> scrapy.pipelines.files <span class="keyword">import</span> FilesPipeline</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="comment"># https://i.pximg.net/img-original/img/2019/12/23/00/18/37/78429594_p0.jpg</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PixivImagePipeline</span>(<span class="params">FilesPipeline</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_media_requests</span>(<span class="params">self, item, info</span>):</span></span><br><span class="line">        meta = &#123;<span class="string">&#x27;referer&#x27;</span>: item[<span class="string">&#x27;referer&#x27;</span>],</span><br><span class="line">                <span class="string">&#x27;item&#x27;</span>: item&#125;</span><br><span class="line">        page_count = item[<span class="string">&#x27;page_count&#x27;</span>]</span><br><span class="line">        original_url = item[<span class="string">&#x27;original_url&#x27;</span>]</span><br><span class="line">        illust_type = item[<span class="string">&#x27;illust_type&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> illust_type == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">yield</span> Request(item[<span class="string">&#x27;gif_zip_url&#x27;</span>], meta=meta)</span><br><span class="line">        <span class="keyword">if</span> page_count == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">yield</span> Request(url=original_url, meta=meta)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> <span class="keyword">from</span> [Request(original_url.replace(<span class="string">&#x27;p0&#x27;</span>, <span class="string">&#x27;p%d&#x27;</span> % _), meta=meta) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(page_count)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">file_path</span>(<span class="params">self, request, response=<span class="literal">None</span>, info=<span class="literal">None</span></span>):</span></span><br><span class="line">        name = request.url.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">        item = request.meta[<span class="string">&#x27;item&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;full/%s/%s&#x27;</span> % (item[<span class="string">&#x27;author&#x27;</span>], name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">item_completed</span>(<span class="params">self, results, item, info</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(item, <span class="built_in">dict</span>) <span class="keyword">or</span> self.files_result_field <span class="keyword">in</span> item.fields:</span><br><span class="line">            item[self.files_result_field] = [x <span class="keyword">for</span> ok, x <span class="keyword">in</span> results <span class="keyword">if</span> ok]</span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;illust_type&#x27;</span>] == <span class="number">2</span>:</span><br><span class="line">            file_paths = [x[<span class="string">&#x27;path&#x27;</span>] <span class="keyword">for</span> ok, x <span class="keyword">in</span> results <span class="keyword">if</span> ok]</span><br><span class="line">            base_path = <span class="string">&#x27;full/%s&#x27;</span> % item[<span class="string">&#x27;author&#x27;</span>]</span><br><span class="line">            unzip_path = base_path + <span class="string">&#x27;/%s&#x27;</span> % item[<span class="string">&#x27;author&#x27;</span>]</span><br><span class="line">            output_path = file_paths[<span class="number">1</span>].replace(<span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>)</span><br><span class="line">            zFile = zipfile.ZipFile(file_paths[<span class="number">0</span>], <span class="string">&quot;r&quot;</span>)</span><br><span class="line">            frames = zFile.namelist()</span><br><span class="line">            <span class="keyword">for</span> fileM <span class="keyword">in</span> zFile.namelist():</span><br><span class="line">                zFile.extract(fileM, unzip_path)</span><br><span class="line">            zFile.close()</span><br><span class="line">            frames = [imageio.imread(unzip_path + <span class="string">&#x27;/%s&#x27;</span> % image) <span class="keyword">for</span> image <span class="keyword">in</span> frames]</span><br><span class="line">            imageio.mimsave(output_path, frames, <span class="string">&#x27;GIF&#x27;</span>, duration=<span class="number">0</span>)</span><br><span class="line">            os.remove(file_paths[<span class="number">0</span>])</span><br><span class="line">            shutil.rmtree(unzip_path)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClearPipeline</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        item[<span class="string">&#x27;description&#x27;</span>] = re.sub(<span class="string">r&#x27;&lt;[^&gt;]*&gt;&#x27;</span>, <span class="string">&#x27; &#x27;</span>, item[<span class="string">&#x27;description&#x27;</span>]).replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27; &#x27;</span>).replace(<span class="string">&#x27;\u3000&#x27;</span>, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ClearPipeline è´Ÿè´£æ¸…æ´—æ•°æ®ï¼Œå› ä¸ºè·å–çš„æ’ç”»ä¸­çš„ descriptionï¼ˆæè¿°ï¼‰ å­—æ®µ å¤¹æ‚ç€ HTML æ ‡ç­¾ï¼Œæ­¤å¤„é€šè¿‡æ­£åˆ™å»æ‰ã€‚<br>PixivImagePipeline è´Ÿè´£æ’ç”»ä¸‹è½½</p>
<ul>
<li><p>get_media_requests ä¸»è¦æ˜¯æ ¹æ®æ’ç”»ç±»å‹ï¼Œè¿›è¡Œç›¸å¯¹åº”çš„è¯·æ±‚ï¼Œgif çš„è¯å°±è·å– item[â€˜gif_zip_urlâ€™] çš„é“¾æ¥è¿›è¡Œè¯·æ±‚ã€‚å¤šé¡µçš„æ’ç”»åˆ™æ˜¯é€šè¿‡åˆ—è¡¨ç”Ÿæˆå¼æ„å»º Request åç›´æ¥ yield fromã€‚</p>
</li>
<li><p>file_path ä¸»è¦æ˜¯è¿”å›å›¾ç‰‡çš„å­˜å‚¨è·¯å¾„</p>
</li>
<li><p>item_completed æ˜¯å¯¹æ’ç”»ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ˜¯ gif åˆ™è§£å‹ä¸‹è½½å¥½çš„ zipï¼Œç„¶åé€šè¿‡ imageio åˆæˆ gifã€‚ç„¶ååˆ é™¤ zip å’Œç”¨äºåˆæˆçš„è§£å‹æ–‡ä»¶å¤¹ã€‚</p>
</li>
</ul>
<p>å¯ä»¥åŠ å…¥å­˜å–æ•°æ®åº“çš„ pipelineï¼Œçˆ¬å–å®Œæˆåå¯ä»¥è¯»å‡ºç›¸å¯¹åº”çš„å­—æ®µï¼Œæ¯”å¦‚æ ‡ç­¾ï¼Œæ¥é€šè¿‡ WorldCloud å¤„ç†ã€‚</p>
<p>PIXIV\middlewares.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_request</span>(<span class="params">self, request, spider</span>):</span></span><br><span class="line">    referer = request.meta.get(<span class="string">&#x27;referer&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">if</span> referer <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        request.headers[<span class="string">&#x27;referer&#x27;</span>] = referer</span><br></pre></td></tr></table></figure>
<p>ç”±äºä¸‹è½½åŸå›¾çš„æ—¶å€™éœ€è¦åŠ å…¥ referer, æ‰€ä»¥åœ¨ pipeline ä¸­é€šè¿‡ meta ä¼ é€’åï¼Œåœ¨ ScrapyDownloaderMiddleware ä¸­è¿›è¡Œå¤„ç†ã€‚</p>
<p>PIXIV\settings.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">DEFAULT_REQUEST_HEADERS = &#123;</span><br><span class="line">  <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;en&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;user-Agent&#x27;</span>: <span class="string">&#x27;Mozilla&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">   <span class="string">&#x27;SCRAPY.middlewares.ScrapyDownloaderMiddleware&#x27;</span>: <span class="number">543</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;SCRAPY.pipelines.PixivImagePipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">   <span class="string">&#x27;SCRAPY.pipelines.ClearPipeline&#x27;</span>: <span class="number">305</span>,</span><br><span class="line">&#125;</span><br><span class="line">FILES_STORE = <span class="string">&#x27;.&#x27;</span></span><br></pre></td></tr></table></figure>




]]></content>
      <categories>
        <category>Python</category>
        <category>çˆ¬è™«</category>
      </categories>
      <tags>
        <tag>scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>scrapyçˆ¬å–yande.re</title>
    <url>/2020/03/19/scrapy%E7%88%AC%E5%8F%96yande/</url>
    <content><![CDATA[<p>requirement</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install scrapy</span><br><span class="line"><span class="comment"># ç”¨äºå­˜å‚¨ä¿¡æ¯</span></span><br><span class="line">$ pip install pymongo</span><br><span class="line"><span class="comment"># ç”¨äºç”Ÿæˆç¼©ç•¥å›¾</span></span><br><span class="line">$ pip install Pillow</span><br></pre></td></tr></table></figure>
<span id="more"></span>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ scrapy startproject YANDE</span><br><span class="line">$ <span class="built_in">cd</span> YANDE</span><br><span class="line">$ scrapy genspider yande yande.re</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è°ƒç”¨ scrapy.cmdline ä¸­çš„ execute æ¥ç¼–å†™å…¥å£æ–‡ä»¶ï¼Œå°±ä¸éœ€è¦æ¯æ¬¡å¯åŠ¨ spider çš„æ—¶å€™éƒ½é€šè¿‡ç»ˆç«¯è¾“å…¥ scrapy crawl yande -a tags=takeuchi_takashiï¼Œè€Œä¸”è¿˜å¯ä»¥é€šè¿‡ ide è¿›è¡Œè°ƒè¯•ã€‚<br>YANDE\run.py  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.cmdline <span class="keyword">import</span> execute</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    tags = <span class="string">&#x27;takeuchi_takashi&#x27;</span></span><br><span class="line">    command = <span class="string">f&#x27;scrapy crawl yande -a tags=<span class="subst">&#123;tags&#125;</span>&#x27;</span></span><br><span class="line">    execute(command.split(<span class="string">&#x27; &#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>YANDE\settings.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;YANDE.pipelines.YandeImagePipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">   <span class="string">&#x27;YANDE.pipelines.MongoPipeline&#x27;</span>: <span class="number">301</span>,</span><br><span class="line">&#125;</span><br><span class="line">IMAGES_STORE = <span class="string">&#x27;.&#x27;</span></span><br><span class="line">IMAGES_THUMBS = &#123;</span><br><span class="line">    <span class="string">&#x27;small&#x27;</span>: (<span class="number">50</span>, <span class="number">50</span>),</span><br><span class="line">    <span class="string">&#x27;big&#x27;</span>: (<span class="number">270</span>, <span class="number">270</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MONGO_URI = <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">MONGO_DATABASE = <span class="string">&#x27;yande&#x27;</span></span><br></pre></td></tr></table></figure>

<p>YANDE\spiders\yande.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> YANDE.items <span class="keyword">import</span> YandeItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YandeSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;yande&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;yande.re&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span>(<span class="params">self</span>):</span></span><br><span class="line">        tags = <span class="built_in">getattr</span>(self, <span class="string">&#x27;tags&#x27;</span>)</span><br><span class="line">        url = <span class="string">f&#x27;https://yande.re/post?tags=<span class="subst">&#123;tags&#125;</span>&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> scrapy.Request(url, callback=self.parse)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        next_page = response.xpath(<span class="string">&#x27;//a[@class=&quot;next_page&quot;]/@href&#x27;</span>).get()</span><br><span class="line">        <span class="keyword">if</span> next_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(next_page, callback=self.parse)</span><br><span class="line">        image_urls = response.xpath(<span class="string">&#x27;//a[@class=&quot;thumb&quot;]/@href&#x27;</span>).getall()</span><br><span class="line">        <span class="keyword">for</span> image_url <span class="keyword">in</span> image_urls:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(image_url, callback=self.parse_image)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_image</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        item = YandeItem()</span><br><span class="line">        item[<span class="string">&#x27;image_id&#x27;</span>] = response.xpath(<span class="string">&#x27;//div[@id=&quot;stats&quot;]/ul/li/text()&#x27;</span>).re(<span class="string">r&#x27;Id: (\d+)&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">&#x27;image_url&#x27;</span>] = response.xpath(<span class="string">&#x27;//div[@class=&quot;content&quot;]/div/img/@src&#x27;</span>).get()</span><br><span class="line">        <span class="keyword">yield</span> item</span><br></pre></td></tr></table></figure>

<p>YANDE\items.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YandeItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    image_id = scrapy.Field()</span><br><span class="line">    image_url = scrapy.Field()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>YANDE\pipelines.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> Request</span><br><span class="line"><span class="keyword">from</span> scrapy.pipelines.images <span class="keyword">import</span> ImagesPipeline</span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YandeImagePipeline</span>(<span class="params">ImagesPipeline</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_media_requests</span>(<span class="params">self, item, info</span>):</span></span><br><span class="line">        <span class="keyword">yield</span> Request(item[<span class="string">&#x27;image_url&#x27;</span>], meta=&#123;<span class="string">&#x27;image_id&#x27;</span>: item[<span class="string">&#x27;image_id&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">file_path</span>(<span class="params">self, request, response=<span class="literal">None</span>, info=<span class="literal">None</span></span>):</span></span><br><span class="line">        image_id = request.meta[<span class="string">&#x27;image_id&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;full/%s.jpg&#x27;</span> % image_id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MongoPipeline</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    collection_name = <span class="string">&#x27;yande_items&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, mongo_uri, mongo_db</span>):</span></span><br><span class="line">        self.mongo_uri = mongo_uri</span><br><span class="line">        self.mongo_db = mongo_db</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">from_crawler</span>(<span class="params">cls, crawler</span>):</span></span><br><span class="line">        <span class="keyword">return</span> cls(</span><br><span class="line">            mongo_uri=crawler.settings.get(<span class="string">&#x27;MONGO_URI&#x27;</span>),</span><br><span class="line">            mongo_db=crawler.settings.get(<span class="string">&#x27;MONGO_DATABASE&#x27;</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">open_spider</span>(<span class="params">self, spider</span>):</span></span><br><span class="line">        self.client = pymongo.MongoClient(self.mongo_uri)</span><br><span class="line">        self.db = self.client[self.mongo_db]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">close_spider</span>(<span class="params">self, spider</span>):</span></span><br><span class="line">        self.client.close()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        self.db[self.collection_name].insert_one(<span class="built_in">dict</span>(item))</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
        <category>çˆ¬è™«</category>
      </categories>
      <tags>
        <tag>scrapy</tag>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title>scrapyçˆ¬å–è±†ç“£Top250</title>
    <url>/2020/03/18/scrapy%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3Top250/</url>
    <content><![CDATA[<p>DOUBAN\run.py </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.cmdline <span class="keyword">import</span> execute</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    command = <span class="string">&#x27;scrapy crawl Top250 -o top250.csv&#x27;</span></span><br><span class="line">    execute(command.split(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<span id="more"></span>

<p>DOUBAN\spider\Top250.py </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> DOUBAN.items <span class="keyword">import</span> DoubanItem</span><br><span class="line"><span class="comment">#scrapy shell -s USER_AGENT=&quot;Mozilla&quot; &quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Top250Spider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;Top250&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;douban.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://movie.douban.com/top250&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        next_page = response.xpath(<span class="string">&#x27;//span[@class=&quot;next&quot;]/a/@href&#x27;</span>).get()</span><br><span class="line">        <span class="keyword">if</span> next_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(next_page, callback=self.parse)</span><br><span class="line">        info = response.xpath(<span class="string">&#x27;//div[@class=&quot;info&quot;]&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> info:</span><br><span class="line">            item = DoubanItem()</span><br><span class="line">            item[<span class="string">&#x27;title&#x27;</span>] = each.xpath(<span class="string">&#x27;div[@class=&quot;hd&quot;]/a/span/text()&#x27;</span>).get()</span><br><span class="line">            item[<span class="string">&#x27;rating_num&#x27;</span>] = each.xpath(<span class="string">&#x27;.//span[@class=&quot;rating_num&quot;]/text()&#x27;</span>).get()</span><br><span class="line">            item[<span class="string">&#x27;quote&#x27;</span>] = each.xpath(<span class="string">&#x27;.//span[@class=&quot;inq&quot;]/text()&#x27;</span>).get()</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>DOUBAN\item.py </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoubanItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    rating_num = scrapy.Field()</span><br><span class="line">    quote = scrapy.Field()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Python</category>
        <category>çˆ¬è™«</category>
      </categories>
      <tags>
        <tag>scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title>å•å‘é“¾è¡¨çš„å®ç°</title>
    <url>/2020/02/09/singly-linked-list-realize/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯é“¾è¡¨"><a href="#ä»€ä¹ˆæ˜¯é“¾è¡¨" class="headerlink" title="ä»€ä¹ˆæ˜¯é“¾è¡¨"></a>ä»€ä¹ˆæ˜¯é“¾è¡¨</h1><blockquote>
<p>é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ(Pointer)ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(logn)å’ŒO(1)ã€‚</p>
</blockquote>
<span id="more"></span>
<blockquote>
<p>ä½¿ç”¨é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚</p>
</blockquote>
<h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"># simpleLinkedList.h</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _SIMPLELINKEDLIST_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _SIMPLELINKEDLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; NodeType;</span><br><span class="line"></span><br><span class="line"><span class="function">NodeType* <span class="title">LinkedList_Create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Insert</span><span class="params">(NodeType* linkedlist, <span class="keyword">int</span> num, <span class="keyword">int</span> pos)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_NodeDelete</span><span class="params">(NodeType* linkedlist, <span class="keyword">int</span> pos)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Delete</span><span class="params">(NodeType* linkedlist)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Print</span><span class="params">(NodeType* linkedlist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"># simpleLinkedList.c</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;simpleLinkedList.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">NodeType* <span class="title">LinkedList_Create</span><span class="params">()</span></span>&#123;</span><br><span class="line">    NodeType* head = (NodeType*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NodeType));</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Insert</span><span class="params">(NodeType* linkedlist, <span class="keyword">int</span> num, <span class="keyword">int</span> pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    NodeType *current = linkedlist;</span><br><span class="line">    <span class="keyword">while</span> (i&lt;pos &amp;&amp; current)&#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (current != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        NodeType *node = (NodeType*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NodeType));</span><br><span class="line">        node-&gt;value = num;</span><br><span class="line">        node-&gt;next = current-&gt;next;</span><br><span class="line">        current-&gt;next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;insert error\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_NodeDelete</span><span class="params">(NodeType* linkedlist, <span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    NodeType*last = linkedlist;</span><br><span class="line">    NodeType*current = linkedlist-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (i&lt;pos &amp;&amp; current)&#123;</span><br><span class="line">        last = current;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (current != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        last-&gt;next = current-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(current);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;delete error\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Delete</span><span class="params">(NodeType* linkedlist)</span></span>&#123;</span><br><span class="line">    NodeType* current = linkedlist;</span><br><span class="line">    NodeType* current_next = linkedlist-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (current)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(current);</span><br><span class="line">        current = current_next;</span><br><span class="line">        <span class="keyword">if</span> (current_next)</span><br><span class="line">            current_next = current_next-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinkedList_Print</span><span class="params">(NodeType* linkedlist)</span></span>&#123;</span><br><span class="line">    NodeType *node = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (linkedlist == <span class="literal">NULL</span>) <span class="keyword">return</span>;</span><br><span class="line">    node = linkedlist-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nè¾“å‡ºé“¾è¡¨\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (node)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, node-&gt;value);</span><br><span class="line">        node = node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¾“å‡ºç»“æŸ\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;simpleLinkedList.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    NodeType* llist = LinkedList_Create();</span><br><span class="line">	</span><br><span class="line">    LinkedList_Insert(llist, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    LinkedList_Insert(llist, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    LinkedList_Print(llist);</span><br><span class="line"></span><br><span class="line">    LinkedList_NodeDelete(llist, <span class="number">0</span>);</span><br><span class="line">    LinkedList_NodeDelete(llist, <span class="number">0</span>);</span><br><span class="line">    LinkedList_Print(llist);</span><br><span class="line"></span><br><span class="line">    LinkedList_Insert(llist, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    LinkedList_Insert(llist, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    LinkedList_Delete(llist);</span><br><span class="line">    llist = <span class="literal">NULL</span>;</span><br><span class="line">    LinkedList_Print(llist);  <span class="comment">// æ²¡æœ‰ä»»ä½•è¾“å‡º</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>main</code>å‡½æ•°ä¸­çš„æœ€åï¼Œæˆ‘ä»¬é€šè¿‡<code>LinkedList_Delete</code>æ¥åˆ é™¤æ•´ä¸ªé“¾è¡¨åï¼Œä¸ºä»€ä¹ˆåé¢éœ€è¦<code>llist = NULL</code>å‘¢ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å†™åœ¨<code>LinkedList_Delete</code>ä¸­å‘¢ ï¼Ÿ</p>
<p>å› ä¸ºå½“æˆ‘ä»¬åœ¨<code>LinkedList_Delete</code>ä¸­é€šè¿‡<code>free</code>å°†é“¾è¡¨åˆ é™¤åï¼Œé“¾è¡¨çš„<code>head</code>å¹¶ä¸æ˜¯<code>NULL</code>ï¼Œå®ƒä¾æ—§æŒ‡å‘äº†åŸæ¥çš„åœ°å€ï¼Œè€Œæˆ‘ä»¬é“¾è¡¨ç›¸å…³çš„å‡½æ•°æ˜¯æ ¹æ®<code>head</code>æ˜¯å¦ç­‰äº<code>NULL</code>ï¼Œæ¥åˆ¤æ–­åˆæ³•ä¸å¦çš„ï¼Œå•çº¯çš„åˆ é™¤åï¼Œé“¾è¡¨çš„<code>head</code>å¹¶ä¸ç­‰äº<code>NULL</code>ã€‚</p>
<p>æˆ‘ä»¬åœ¨<code>void LinkedList_Delete(NodeType* linkedlist)</code>ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¼ å…¥çš„æ˜¯ä¸€ä¸ª<code>NodeType</code>ç±»å‹çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æŒ‡é’ˆï¼Œå»ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ä¼ è¿›å»æŒ‡é’ˆåœ¨å‡½æ•°ä¸­ä¾æ—§æ˜¯è¯¥å‡½æ•°å±€éƒ¨çš„å‚æ•°è€Œå·²ï¼Œæˆ‘ä»¬å¯¹å…¶ç›´æ¥èµ‹å€¼ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°<code>main</code>ä¸­çš„<code>llist</code>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦åœ¨mainä¸­æ˜¾å¼çš„<code>llist = NULL</code>çš„åŸå› ã€‚</p>
<p>å¦‚æœè¦åœ¨<code>void LinkedList_Delete(NodeType* linkedlist)</code>ä¸­å¯¹<code>main</code>ä¸­çš„<code>llist</code>è¿›è¡Œèµ‹å€¼çš„è¯ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªäºŒçº§æŒ‡é’ˆã€‚å› ä¸º<code>llist</code>æœ¬èº«å°±æ˜¯æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯<code>llist</code>çš„æŒ‡é’ˆ<code>&amp;llist</code>ã€‚</p>
<h1 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h1><p>æˆ‘ä»¬å¯ä»¥å°†é“¾è¡¨èŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¸­çš„å…ƒç´ è¿›ä¸€æ­¥çš„å°è£…ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Element</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">&#125; ElementType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    ElementType* data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; NodeType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkedList</span>&#123;</span></span><br><span class="line">    NodeType* head;</span><br><span class="line">    NodeType* tail;</span><br><span class="line">&#125; LinkedListType;</span><br></pre></td></tr></table></figure>

<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://zh.wikipedia.org/wiki/%E9%93%BE%E8%A1%A8">ç»´åŸºç™¾ç§‘</a><br><a href="https://www.icourse163.org/course/ZJU-200001?tid=1207389210">Cè¯­è¨€ç¨‹åºè®¾è®¡è¿›é˜¶</a></p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title>socketèŠå¤©å®¤(Javaå®ç°)</title>
    <url>/2021/05/05/socket%E8%81%8A%E5%A4%A9%E5%AE%A4-Java%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<blockquote>
<p>server.java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">55555</span>);</span><br><span class="line">        List&lt;Socket&gt; sockets = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//noinspection InfiniteLoopStatement</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            Socket socket = serverSocket.accept();</span><br><span class="line">            sockets.add(socket);</span><br><span class="line">            ServerThread serverThread = <span class="keyword">new</span> ServerThread(socket, sockets);</span><br><span class="line">            serverThread.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServerThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Socket socket;</span><br><span class="line">    List&lt;Socket&gt; sockets;</span><br><span class="line"></span><br><span class="line">    ServerThread(Socket socket, List&lt;Socket&gt; sockets) &#123;</span><br><span class="line">        <span class="keyword">this</span>.socket = socket;</span><br><span class="line">        <span class="keyword">this</span>.sockets = sockets;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream inputStream = <span class="keyword">this</span>.socket.getInputStream();</span><br><span class="line">            OutputStream outputStream = <span class="keyword">this</span>.socket.getOutputStream();</span><br><span class="line">            <span class="keyword">var</span> reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(inputStream, StandardCharsets.UTF_8));</span><br><span class="line">            <span class="keyword">var</span> writer = <span class="keyword">new</span> OutputStreamWriter(outputStream, StandardCharsets.UTF_8);</span><br><span class="line">            writer.write(<span class="string">&quot;hello-&gt;&quot;</span>+socket.getRemoteSocketAddress()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">            writer.flush();</span><br><span class="line">            <span class="comment">//noinspection InfiniteLoopStatement</span></span><br><span class="line">            <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">                String string = reader.readLine();</span><br><span class="line">                <span class="keyword">for</span>(Socket _socket: sockets)&#123;</span><br><span class="line">                    outputStream = _socket.getOutputStream();</span><br><span class="line">                    writer = <span class="keyword">new</span> OutputStreamWriter(outputStream, StandardCharsets.UTF_8);</span><br><span class="line">                    writer.write(<span class="keyword">this</span>.socket.getRemoteSocketAddress()+<span class="string">&quot;: &quot;</span>+string+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    writer.flush();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.socket.close();</span><br><span class="line">                sockets.remove(socket);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<blockquote>
<p>client.java</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Handler;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.LogRecord;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, <span class="number">55555</span>);</span><br><span class="line">        SendThread sendThread = <span class="keyword">new</span> SendThread(socket);</span><br><span class="line">        ReceiveThread receiveThread = <span class="keyword">new</span> ReceiveThread(socket);</span><br><span class="line">        sendThread.start();</span><br><span class="line">        receiveThread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SendThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Socket socket;</span><br><span class="line"></span><br><span class="line">    SendThread(Socket socket)&#123;</span><br><span class="line">        <span class="keyword">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            OutputStream output = <span class="keyword">this</span>.socket.getOutputStream();</span><br><span class="line">            <span class="keyword">var</span> writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(output, StandardCharsets.UTF_8));</span><br><span class="line">            <span class="comment">//noinspection InfiniteLoopStatement</span></span><br><span class="line">            <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">                String string = scanner.nextLine();</span><br><span class="line">                writer.write(string+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                writer.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReceiveThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Socket socket;</span><br><span class="line"></span><br><span class="line">    ReceiveThread(Socket socket)&#123;</span><br><span class="line">        <span class="keyword">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream input = <span class="keyword">this</span>.socket.getInputStream();</span><br><span class="line">            <span class="keyword">var</span> reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(input, StandardCharsets.UTF_8));</span><br><span class="line">            <span class="comment">//noinspection InfiniteLoopStatement</span></span><br><span class="line">            <span class="keyword">for</span>(;;) &#123;</span><br><span class="line">                String string = reader.readLine();</span><br><span class="line">                System.out.println(string);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>å †æ ˆçš„å®ç°</title>
    <url>/2020/02/17/stack-realize/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯å †æ ˆ"><a href="#ä»€ä¹ˆæ˜¯å †æ ˆ" class="headerlink" title="ä»€ä¹ˆæ˜¯å †æ ˆ"></a>ä»€ä¹ˆæ˜¯å †æ ˆ</h1><h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line">``` c</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ElementType e1, e2, e3, e4;</span><br><span class="line">    e1.value = <span class="number">1</span>; e2.value = <span class="number">2</span>; e3.value = <span class="number">3</span>; e4.value = <span class="number">4</span>;</span><br><span class="line">    NodeType* <span class="built_in">stack</span> = Stack_Create();</span><br><span class="line">    Stack_Push(<span class="built_in">stack</span>, &amp;e1);</span><br><span class="line">    Stack_Push(<span class="built_in">stack</span>, &amp;e2);</span><br><span class="line">    Stack_Push(<span class="built_in">stack</span>, &amp;e3);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;å¼¹å‡º%d\n&quot;</span>, Stack_Pop(<span class="built_in">stack</span>)-&gt;value);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;å¼¹å‡º%d\n&quot;</span>, Stack_Pop(<span class="built_in">stack</span>)-&gt;value);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;å¼¹å‡º%d\n&quot;</span>, Stack_Pop(<span class="built_in">stack</span>)-&gt;value);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Stack_IsEmpty(<span class="built_in">stack</span>)) <span class="built_in">printf</span>(<span class="string">&quot;stack is empty&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;stack is not empty&quot;</span>);</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href=""></a></p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title>STM32-å®šæ—¶å™¨</title>
    <url>/2020/04/09/stm32-timer/</url>
    <content><![CDATA[<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>æ ‘</title>
    <url>/2020/04/21/tree/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>ä¸²å£æ§åˆ¶esp8266å‘é€HTTPè¯·æ±‚</title>
    <url>/2020/01/20/%E4%B8%B2%E5%8F%A3%E6%8E%A7%E5%88%B6esp8266%E5%8F%91%E9%80%81HTTP%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<p>8266test</p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>æ ‡ç­¾1</tag>
        <tag>æ ‡ç­¾2</tag>
        <tag>æ ‡ç­¾3</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾ç›¸å…³</title>
    <url>/2020/02/27/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾éƒ¨ç½²Django</title>
    <url>/2020/03/19/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2Django/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²è½¬ç®—æœ¯è¡¨è¾¾å¼(å †æ ˆ)</title>
    <url>/2020/03/25/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E7%AE%97%E6%9C%AF%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%A0%86%E6%A0%88/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>è”¡å‹’å…¬å¼</title>
    <url>/2020/03/23/%E8%94%A1%E5%8B%92%E5%85%AC%E5%BC%8F/</url>
    <content><![CDATA[<blockquote>
<p>è”¡å‹’å…¬å¼ï¼ˆZellerâ€™s congruenceï¼‰ï¼Œæ˜¯ä¸€ç§è®¡ç®—ä»»ä½•ä¸€æ—¥å±ä¸€æ˜ŸæœŸä¸­å“ªä¸€æ—¥çš„æ¼”ç®—æ³•ï¼Œç”±å¾·å›½æ•°å­¦å®¶å…‹é‡Œæ–¯æå®‰Â·è”¡å‹’ï¼ˆè‹±è¯­ï¼šChristian Zellerï¼‰æ¨ç®—å‡ºæ¥ã€‚</p>
</blockquote>
<span id="more"></span>
<p>$$<br>X=\left|<br>    \begin{matrix}<br>        x_{11} &amp; x_{12} &amp; \cdots &amp; x_{1d} \<br>        x_{21} &amp; x_{22} &amp; \cdots &amp; x_{2d} \<br>        \vdots &amp; \vdots &amp; \ddots &amp; \vdots \<br>        x_{11} &amp; x_{12} &amp; \cdots &amp; x_{1d} \<br>    \end{matrix}<br>\right|<br>$$</p>
<p>$$<br>h(\theta) = \sum_{j=0} ^n \theta_j x_j<br>$$</p>
<p>$$<br>\int_{1}^{2}{x}dx \<br>\sum_{i=1}^{\infty}{x}<br>$$</p>
]]></content>
  </entry>
  <entry>
    <title>èœ‚é¸£å™¨æ¼”å¥ã€Šé€åˆ«ã€‹</title>
    <url>/2020/01/15/%E8%9C%82%E9%B8%A3%E5%99%A8%E6%BC%94%E5%A5%8F%E3%80%8A%E9%80%81%E5%88%AB%E3%80%8B/</url>
    <content><![CDATA[<span id="more"></span>]]></content>
  </entry>
  <entry>
    <title>é›¨ã¯ã€ã„ã¤ã‹ã‚ãŒã‚‹ã®ã‹ãª</title>
    <url>/2020/04/02/%E9%9B%A8%E3%81%AF%E3%80%81%E3%81%84%E3%81%A4%E3%81%8B%E3%81%82%E3%81%8C%E3%82%8B%E3%81%AE%E3%81%8B%E3%81%AA/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Androidè¯¾å ‚ç¬”è®°(å®‰å“ç¯‡)</title>
    <url>/2020/03/31/android-note-1/</url>
    <content><![CDATA[<h1 id="æ—¥å¿—çš„ä½¿ç”¨"><a href="#æ—¥å¿—çš„ä½¿ç”¨" class="headerlink" title="æ—¥å¿—çš„ä½¿ç”¨"></a>æ—¥å¿—çš„ä½¿ç”¨</h1><h2 id="ä»€ä¹ˆæ˜¯æ—¥å¿—"><a href="#ä»€ä¹ˆæ˜¯æ—¥å¿—" class="headerlink" title="ä»€ä¹ˆæ˜¯æ—¥å¿—"></a>ä»€ä¹ˆæ˜¯æ—¥å¿—</h2><p>ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨è¿è¡Œ Androidåº”ç”¨çš„æ—¶å€™ï¼Œå¹¶ä¸èƒ½åƒ Cè¯­è¨€æˆ–æ˜¯å…¶ä»–è¯­è¨€ä¸€æ ·ç›´æ¥é€šè¿‡<code>printf</code>æ¥æŸ¥çœ‹éœ€è¦çš„ä¿¡æ¯ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°<code>Log</code>ã€‚å½“æˆ‘ä»¬è®¾ç½®å¥½<code>Log</code>ä¹‹åï¼Œå°±å¯ä»¥åœ¨ Android Studio é‡Œé¢çš„<code>Logcat</code>ä¸­æŸ¥çœ‹ç›¸å…³ä¿¡æ¯ã€‚  </p>
<span id="more"></span>
<p>å½“æ—¥å¿—è¿‡å¤šçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>Filter</code>æ¥è¿‡æ»¤ã€‚</p>
<h2 id="æ—¥å¿—çš„ç­‰çº§"><a href="#æ—¥å¿—çš„ç­‰çº§" class="headerlink" title="æ—¥å¿—çš„ç­‰çº§"></a>æ—¥å¿—çš„ç­‰çº§</h2><p>å¯ä»¥é€šè¿‡è®¾ç½®æ—¥å¿—çš„çº§åˆ«æ¥</p>
<table>
<thead>
<tr>
<th align="center">level</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Debug</td>
<td align="center">æ˜¾ç¤ºä»…åœ¨å¼€å‘æœŸé—´æœ‰ç”¨çš„è°ƒè¯•æ—¥å¿—æ¶ˆæ¯ï¼Œä»¥åŠæ­¤åˆ—è¡¨ä¸­è¾ƒä½çš„æ¶ˆæ¯çº§åˆ«</td>
</tr>
<tr>
<td align="center">Info</td>
<td align="center">æ˜¾ç¤ºå¸¸è§„ä½¿ç”¨æƒ…å†µçš„é¢„æœŸæ—¥å¿—æ¶ˆæ¯ï¼Œä»¥åŠæ­¤åˆ—è¡¨ä¸­è¾ƒä½çš„æ¶ˆæ¯çº§åˆ«</td>
</tr>
<tr>
<td align="center">Warn</td>
<td align="center">æ˜¾ç¤ºå°šä¸æ˜¯é”™è¯¯çš„æ½œåœ¨é—®é¢˜ï¼Œä»¥åŠæ­¤åˆ—è¡¨ä¸­è¾ƒä½çš„æ¶ˆæ¯çº§åˆ«</td>
</tr>
<tr>
<td align="center">Error</td>
<td align="center">æ˜¾ç¤ºå·²ç»å¼•å‘é”™è¯¯çš„é—®é¢˜ï¼Œä»¥åŠæ­¤åˆ—è¡¨ä¸­è¾ƒä½çš„æ¶ˆæ¯çº§åˆ«</td>
</tr>
</tbody></table>
<h2 id="ç›¸å…³ä»£ç "><a href="#ç›¸å…³ä»£ç " class="headerlink" title="ç›¸å…³ä»£ç "></a>ç›¸å…³ä»£ç </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¿«æ·é”® logt</span></span><br><span class="line">    <span class="comment">// é•¿åº¦è¶…è¿‡ 23 ä¸ªå­—ç¬¦çš„æ ‡è®°åç§°åœ¨ logcat è¾“å‡ºä¸­ä¼šè¢«æˆªæ–­</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">&quot;Log Test&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Log.e(TAG, <span class="string">&quot;onCreate: This is error&quot;</span>);</span><br><span class="line">        Log.w(TAG, <span class="string">&quot;onCreate: This is warning&quot;</span>);</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onCreate: This is info&quot;</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;onCreate: This is debug&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2020</span>-<span class="number">03</span>-<span class="number">31</span> <span class="number">11</span>:<span class="number">38</span>:<span class="number">11.052</span> <span class="number">3413</span>-<span class="number">3413</span>/? E/LogÂ Test: onCreate: This is error</span><br><span class="line"><span class="number">2020</span>-<span class="number">03</span>-<span class="number">31</span> <span class="number">11</span>:<span class="number">38</span>:<span class="number">11.052</span> <span class="number">3413</span>-<span class="number">3413</span>/? W/LogÂ Test: onCreate: This is warning</span><br><span class="line"><span class="number">2020</span>-<span class="number">03</span>-<span class="number">31</span> <span class="number">11</span>:<span class="number">38</span>:<span class="number">11.052</span> <span class="number">3413</span>-<span class="number">3413</span>/? I/LogÂ Test: onCreate: This is info</span><br><span class="line"><span class="number">2020</span>-<span class="number">03</span>-<span class="number">31</span> <span class="number">11</span>:<span class="number">38</span>:<span class="number">11.052</span> <span class="number">3413</span>-<span class="number">3413</span>/? D/LogÂ Test: onCreate: This is debug</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.android.com/studio/debug/am-logcat?hl=zh-cn#java">https://developer.android.com/studio/debug/am-logcat?hl=zh-cn#java</a></p>
<h1 id="å¸¸ç”¨æ§ä»¶"><a href="#å¸¸ç”¨æ§ä»¶" class="headerlink" title="å¸¸ç”¨æ§ä»¶"></a>å¸¸ç”¨æ§ä»¶</h1><h2 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h2><p>è¦è®¾ç½®ä¸€ä¸ª<code>Button</code>æˆ‘ä»¬è¦ç»è¿‡ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>åœ¨<code>Layout</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>Button</code></li>
<li>åœ¨ç›¸å¯¹åº”çš„æ´»åŠ¨ä¸­è®¾ç½®ç›‘å¬</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/button_id&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">&quot;@string/self_destruct&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å•ä¸ª-button-è®¾ç½®ç›‘å¬"><a href="#å•ä¸ª-button-è®¾ç½®ç›‘å¬" class="headerlink" title="å•ä¸ª button è®¾ç½®ç›‘å¬"></a>å•ä¸ª button è®¾ç½®ç›‘å¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">&quot;MainActivity&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button2 = findViewById(R.id.button2);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">&quot;this is toast&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Log.i(TAG, <span class="string">&quot;onClick: This is button info&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ª-button-è®¾ç½®ç›‘å¬"><a href="#å¤šä¸ª-button-è®¾ç½®ç›‘å¬" class="headerlink" title="å¤šä¸ª button è®¾ç½®ç›‘å¬"></a>å¤šä¸ª button è®¾ç½®ç›‘å¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button2 = findViewById(R.id.button2);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        button2.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.button:</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">&quot;button1 click&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.button2:</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">&quot;button2 click&quot;</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>: <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener</code></p>
<h2 id="TextView"><a href="#TextView" class="headerlink" title="TextView"></a>TextView</h2><ul>
<li>åœ¨<code>Layout</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>TextView</code></li>
<li>é€šè¿‡<code>Button</code>æ”¹å˜å…¶å†…å®¹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/text_view_id&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">&quot;@string/hello&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> TextView textView = findViewById(R.id.textView);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                textView.setText(<span class="string">&quot;change&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>ä¸å»ºè®®åœ¨è®¾ç½®<code>TextView</code>çš„æ—¶å€™ç›´æ¥ä½¿ç”¨ç¡¬ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œåº”è¯¥å°†å…¶æ”¾åœ¨<code>strings.xml</code>ä¸­ï¼Œ</p>
<h2 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h2><ul>
<li>åœ¨<code>Layout</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>EditText</code></li>
<li>é€šè¿‡<code>Button</code>æˆ–<code>addTextChangedListener</code>å°†å…¶å†…å®¹æ˜¾ç¤ºåœ¨<code>TextView</code>ä¸Š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/plain_text_input&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:inputType</span>=<span class="string">&quot;text&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ‰‹åŠ¨æ›´æ–°TextView"><a href="#æ‰‹åŠ¨æ›´æ–°TextView" class="headerlink" title="æ‰‹åŠ¨æ›´æ–°TextView"></a>æ‰‹åŠ¨æ›´æ–°TextView</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> TextView textView = findViewById(R.id.textView);</span><br><span class="line">        <span class="keyword">final</span> EditText editText = findViewById(R.id.editText);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                textView.setText(editText.getText());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªåŠ¨æ›´æ–°TextView"><a href="#è‡ªåŠ¨æ›´æ–°TextView" class="headerlink" title="è‡ªåŠ¨æ›´æ–°TextView"></a>è‡ªåŠ¨æ›´æ–°TextView</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> TextView textView = findViewById(R.id.textView);</span><br><span class="line">        <span class="keyword">final</span> EditText editText = findViewById(R.id.editText);</span><br><span class="line">        editText.addTextChangedListener(<span class="keyword">new</span> TextWatcher() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeTextChanged</span><span class="params">(CharSequence s, <span class="keyword">int</span> start, <span class="keyword">int</span> count, <span class="keyword">int</span> after)</span> </span>&#123;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTextChanged</span><span class="params">(CharSequence s, <span class="keyword">int</span> start, <span class="keyword">int</span> before, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">                textView.setText(editText.getText());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTextChanged</span><span class="params">(Editable s)</span> </span>&#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-2"><a href="#æ³¨æ„äº‹é¡¹-2" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>åœ¨ <em>Android Studio</em> ä¸­ï¼Œå¯ä»¥é€šè¿‡å°†å…‰æ ‡ç½®äº<code>TextWatcher</code>å¤„ï¼Œé€šè¿‡<kbd>Alt</kbd>+<kbd>Enter</kbd>ï¼Œå¿«é€Ÿå¯¼åŒ…</p>
<h2 id="ProgressBar"><a href="#ProgressBar" class="headerlink" title="ProgressBar"></a>ProgressBar</h2><p><code>ProgressBar</code>æœ‰ä¸¤ç§æ ·å¼ï¼Œ<code>Indeterminate</code>å’Œ<code>Determinate</code>ï¼Œä¹Ÿå°±æ˜¯ä¸ç¡®å®šçš„ï¼Œå’Œç¡®å®šçš„è¿›åº¦æ¡ã€‚</p>
<ul>
<li>åœ¨<code>Layout</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>ProgressBar</code></li>
<li>é€šè¿‡<code>Button</code>ä½¿<code>ProgressBar</code>è¿›åº¦å¢åŠ ï¼Œå½“å¢åŠ åˆ°100æ—¶ï¼Œè®¾ç½®ä¸º<code>View.INVISIBLE</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/indeterminateBar&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/determinateBar&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">style</span>=<span class="string">&quot;@android:style/Widget.ProgressBar.Horizontal&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:progress</span>=<span class="string">&quot;25&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="é€šè¿‡-Button-æ›´æ–°-ProgressBar"><a href="#é€šè¿‡-Button-æ›´æ–°-ProgressBar" class="headerlink" title="é€šè¿‡ Button æ›´æ–° ProgressBar"></a>é€šè¿‡ Button æ›´æ–° ProgressBar</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> TextView textView = findViewById(R.id.textView);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button1);</span><br><span class="line">        <span class="keyword">final</span> ProgressBar progressBar = findViewById(R.id.progressBar);</span><br><span class="line">        <span class="keyword">final</span> ProgressBar progressBar1 = findViewById(R.id.progressBar1);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(progressBar.getProgress() &gt;=<span class="number">100</span>) &#123;</span><br><span class="line">                    progressBar.setVisibility(View.INVISIBLE);</span><br><span class="line">                    progressBar1.setVisibility(View.INVISIBLE);</span><br><span class="line">                &#125;</span><br><span class="line">                progressBar.setProgress(progressBar.getProgress()+<span class="number">10</span>);</span><br><span class="line">                textView.setText(String.valueOf(progressBar.getProgress()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                progressBar.setProgress(<span class="number">0</span>);</span><br><span class="line">                progressBar.setVisibility(View.VISIBLE);</span><br><span class="line">                progressBar1.setVisibility(View.VISIBLE);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨æ„äº‹é¡¹-3"><a href="#æ³¨æ„äº‹é¡¹-3" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>å¯ä»¥é€šè¿‡<code>setMax()</code>è®¾ç½®<code>ProgressBar</code>çš„é‡ç¨‹ï¼Œé»˜è®¤ä¸º100ã€‚<br><code>View.INVISIBLE</code>ï¼Œè§†å›¾ä¸å¯è§ï¼Œè¢«ç‚¹å‡»æ—¶ä¸ä¼šè¢«å“åº”ï¼Œä½†æ˜¯ä¾æ—§å ä½ã€‚</p>
<h2 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView"></a>ImageView</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> ImageView imageView = findViewById(R.id.imageView);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                    imageView.setImageResource(R.drawable.p2);</span><br><span class="line">                    flag = !flag;</span><br><span class="line">                &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                    imageView.setImageResource(R.drawable.p1);</span><br><span class="line">                    flag = !flag;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] fruit = &#123;<span class="string">&quot;pear&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;peach&quot;</span>, <span class="string">&quot;watermelon&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> ListView listView = findViewById(R.id.listView);</span><br><span class="line">        ArrayAdapter&lt;String&gt; arrayAdapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(MainActivity.<span class="keyword">this</span>,android.R.layout.simple_list_item_1, fruit);</span><br><span class="line">        listView.setAdapter(arrayAdapter);</span><br><span class="line">        listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; adapterView, View view, <span class="keyword">int</span> i, <span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, fruit[i], Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.android.com/reference/android/widget/Button">https://developer.android.com/reference/android/widget/Button</a><br><a href="https://developer.android.com/reference/android/widget/TextView">https://developer.android.com/reference/android/widget/TextView</a><br><a href="https://developer.android.com/guide/topics/resources/string-resource.html">https://developer.android.com/guide/topics/resources/string-resource.html</a><br><a href="https://developer.android.com/reference/android/widget/EditText">https://developer.android.com/reference/android/widget/EditText</a><br><a href="https://developer.android.com/reference/kotlin/android/widget/ProgressBar">https://developer.android.com/reference/kotlin/android/widget/ProgressBar</a><br><a href="https://developer.android.com/reference/kotlin/android/widget/ImageView">https://developer.android.com/reference/kotlin/android/widget/ImageView</a><br><a href="https://developer.android.com/reference/kotlin/android/widget/ListView">https://developer.android.com/reference/kotlin/android/widget/ListView</a></p>
<h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="Activity"><a href="#Activity" class="headerlink" title="Activity"></a>Activity</h2><h3 id="ä»æ— åˆ°æœ‰åˆ›å»ºActivity"><a href="#ä»æ— åˆ°æœ‰åˆ›å»ºActivity" class="headerlink" title="ä»æ— åˆ°æœ‰åˆ›å»ºActivity"></a>ä»æ— åˆ°æœ‰åˆ›å»ºActivity</h3><p><em>Android Studio</em> åˆ›å»ºåº”ç”¨æ—¶ï¼Œä¼šæä¾›è®¸å¤š<code>Activity</code>æ¨¡æ¿ï¼Œå¦‚ <em>Basic Activity</em>, <em>Empty Activity</em>ç­‰ï¼Œä½†æ˜¯æˆ‘ä»¬ç»ˆç©¶éœ€è¦çŸ¥é“å¦‚ä½•ä»æ— åˆ°æœ‰åˆ›å»ºActivityï¼Œäºæ˜¯å¯ä»¥é€‰æ‹© <em>Add No Activity</em>ã€‚</p>
<p>å…¶æ­¥éª¤å¦‚ä¸‹:</p>
<ul>
<li>å³é”® <em>res</em> æ–‡ä»¶å¤¹ï¼Œåœ¨ <em>NEW</em> ä¸­é€‰æ‹© <em>New Android Resource Directory</em> ï¼Œåœ¨ <em>Resource Type</em> ä¸­é€‰æ‹© <em>layout</em></li>
<li>å³é”® <em>layout</em> æ–‡ä»¶å¤¹ï¼Œåœ¨ <em>NEW</em> ä¸­é€‰æ‹© <em>XML</em> ä¸­çš„<em>Layout XML File</em></li>
<li>åœ¨ <em>java</em> æ–‡ä»¶å¤¹ä¸­ç›¸å¯¹åº”çš„è·¯å¾„ä¸‹åˆ›å»º <em>Java Class</em> æ–‡ä»¶ - <em>FirstActivity</em></li>
<li>åœ¨ <em>AndroidManifest.xml</em> ä¸­æ³¨å†Œ <code>Activity</code>  </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.learnactivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.first_activity_layout);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.FirstActivity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Activity-è·³è½¬"><a href="#Activity-è·³è½¬" class="headerlink" title="Activity è·³è½¬"></a>Activity è·³è½¬</h3><p>åœ¨ç¼–å†™APPæ—¶ï¼Œå¾€å¾€éœ€è¦å¤šä¸ªç•Œé¢ï¼Œä¹Ÿå°±å¤šä¸ª<code>Activity</code>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä»ä¸€ä¸ª<code>Activity</code>è·³è½¬åˆ°å¦å¤–çš„<code>Activity</code>ï¼Œè€Œ <code>Activity</code> è·³è½¬å¾€å¾€æ˜¯é€šè¿‡ <code>Intent</code> å®ç°çš„<br><code>Activity</code> è·³è½¬åˆ†ä¸ºä¸¤ç§:</p>
<ul>
<li>æ˜¾å¼è·³è½¬</li>
<li>éšå¼è·³è½¬</li>
</ul>
<h4 id="Activity-æ˜¾å¼è·³è½¬"><a href="#Activity-æ˜¾å¼è·³è½¬" class="headerlink" title="Activity æ˜¾å¼è·³è½¬"></a>Activity æ˜¾å¼è·³è½¬</h4><p>æ˜¾ç¤ºè·³è½¬æ­¥éª¤å¦‚ä¸‹:</p>
<ul>
<li>åœ¨å·²æœ‰<code>Activity</code>çš„å·¥ç¨‹åŸºç¡€ä¸Šï¼Œé€šè¿‡ <em>Android Studio</em> ç›´æ¥ <em>New Activity</em>ï¼Œåˆ›å»ºç¬¬äºŒä¸ª<code>Activity</code> (Main2Activity)</li>
<li>åœ¨ä¸¤ä¸ª<code>Activity</code>å„è‡ªå¯¹åº”çš„<code>layout</code>ä¸­å„æ·»åŠ ä¸€ä¸ª<code>TextView</code>å’Œ<code>Button</code>.<br>ç”¨æ¥æ˜¾ç¤ºå½“å‰æ‰€å¤„çš„<code>Activity</code>ä»¥åŠè·³è½¬. <em>MainActivity</em> ä¸­çš„<code>Button</code>ç”¨äºè·³è½¬åˆ° <em>Main2Activity</em>ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªæ´»åŠ¨ã€‚<em>Main2Activity</em> ä¸­çš„<code>Button</code>ç”¨äºç”¨äºç»“æŸå½“å‰æ´»åŠ¨ï¼Œä¹Ÿå°±æ˜¯ç»“æŸ <em>Main2Activity</em>ï¼Œäºæ˜¯å°±ä¼šå›åˆ° <em>MainActivity</em></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.Main2Activity&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, Main2Activity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main2Activity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main2);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button2);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                finish();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Activity-éšå¼è·³è½¬"><a href="#Activity-éšå¼è·³è½¬" class="headerlink" title="Activity éšå¼è·³è½¬"></a>Activity éšå¼è·³è½¬</h4><p>åŒä¸ªåº”ç”¨ä¸­ï¼Œæ˜¾ç¤ºè·³è½¬å’Œéšå¼è·³è½¬ç±»ä¼¼.åªéœ€ä¿®æ”¹è·³è½¬æ—¶å€™çš„ <code>intent</code> å’Œ <em>AndroidManifest.xml</em>ï¼Œè€Œè·¨åº”ç”¨è·³è½¬ä¹Ÿæ˜¯åŒæ ·çš„ï¼Œæ–°å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ï¼Œç‚¹å‡» <code>Button</code> é€šè¿‡ <em>intent-filter</em> è·³è½¬</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.Main2Activity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;sakura.demo&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;category.demo&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.DEFAULT&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">        intent.setAction(<span class="string">&quot;sakura.demo&quot;</span>);</span><br><span class="line">        intent.addCategory(<span class="string">&quot;category.demo&quot;</span>);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="æºå¸¦æ•°æ®è·³è½¬"><a href="#æºå¸¦æ•°æ®è·³è½¬" class="headerlink" title="æºå¸¦æ•°æ®è·³è½¬"></a>æºå¸¦æ•°æ®è·³è½¬</h4><p>åŸºäºæ˜¾ç¤ºè·³è½¬ä»£ç ä¿®æ”¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    TextView textView;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        textView  = findViewById(R.id.textView);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, Main2Activity.class);</span><br><span class="line">                intent.putExtra(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">                intent.putExtra(<span class="string">&quot;score&quot;</span>, <span class="number">90</span>);</span><br><span class="line">                startActivityForResult(intent, <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, <span class="meta">@Nullable</span> Intent data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">        <span class="keyword">if</span>(requestCode==<span class="number">0</span> &amp;&amp; resultCode==RESULT_OK)&#123;</span><br><span class="line">            textView.setText(data.getStringExtra(<span class="string">&quot;message&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main2Activity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main2);</span><br><span class="line">        <span class="keyword">final</span> EditText editText = findViewById(R.id.editText);</span><br><span class="line">        <span class="keyword">final</span> TextView textView = findViewById(R.id.textView2);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button2);</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        String name = intent.getStringExtra(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> score = intent.getIntExtra(<span class="string">&quot;score&quot;</span>, <span class="number">0</span>);</span><br><span class="line">        textView.setText(name + score);</span><br><span class="line">        Toast.makeText(Main2Activity.<span class="keyword">this</span>, name+score, Toast.LENGTH_LONG).show();</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent1 = <span class="keyword">new</span> Intent();</span><br><span class="line">                intent1.putExtra(<span class="string">&quot;message&quot;</span>, editText.getText().toString());</span><br><span class="line">                setResult(RESULT_OK, intent1);</span><br><span class="line">                finish();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Activity-ç”Ÿå‘½å‘¨æœŸ"><a href="#Activity-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Activity ç”Ÿå‘½å‘¨æœŸ"></a>Activity ç”Ÿå‘½å‘¨æœŸ</h3><p>æ–°å»ºä¸‰ä¸ªæ´»åŠ¨ï¼Œå¹¶è®¾ç½®ä¸¤ä¸ªButton</p>
<ul>
<li>ç¬¬ä¸€ä¸ªButtonå¯¹åº”Activity2</li>
<li>ç¬¬äºŒä¸ªButtonå¯¹åº”Activity3</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.Main3Activity&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">&quot;@style/Theme.AppCompat.DayNight.Dialog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.Main2Activity&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">&quot;MainActivity&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button2);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, Main2Activity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, Main3Activity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onCreate: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onDestroy: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onStart: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onStop: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onResume: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onPause();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;onPause: do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">45.710</span> <span class="number">2574</span>-<span class="number">2574</span>/? I/MainActivity: onCreate: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">45.716</span> <span class="number">2574</span>-<span class="number">2574</span>/? I/MainActivity: onStart: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">45.720</span> <span class="number">2574</span>-<span class="number">2574</span>/? I/MainActivity: onResume: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">48.603</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onPause: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">49.250</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onStop: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">52.114</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onStart: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">52.116</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onResume: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">55.121</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onPause: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">01</span>:<span class="number">57.300</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onResume: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">04.792</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onPause: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">04.823</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onStop: <span class="keyword">do</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">05</span>-<span class="number">12</span> <span class="number">11</span>:<span class="number">02</span>:<span class="number">05.274</span> <span class="number">2574</span>-<span class="number">2574</span>/com.example.myapplication I/MainActivity: onDestroy: <span class="keyword">do</span></span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-4"><a href="#æ³¨æ„äº‹é¡¹-4" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>é€šè¿‡<code>Java class</code>æ¥æ‰‹åŠ¨åˆ›å»ºçš„<code>Activity</code>éœ€è¦åœ¨ <em>AndroidManifest.xml</em> ä¸­æ³¨å†Œ<br>å¦‚æœé€šè¿‡ <em>Android Studio</em> ç›´æ¥ <em>New Activity</em> åˆ™ä¸ç”¨ã€‚ä¸”æ³¨æ„è¦é€šè¿‡<code>setContentView()</code>æ¥ç»‘å®š<code>layout</code></li>
<li>éšå¼è·³è½¬çš„ç›®æ ‡ <em>Activity</em> å¿…é¡»å¸¦æœ‰ <em>intent-filter</em><br>éšå¼è·³è½¬çš„ç›®æ ‡ <em>Activity</em> éå¯åŠ¨æ´»åŠ¨æ—¶ï¼Œå¿…é¡»åŠ ä¸Š <code>&lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;</code></li>
</ul>
<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><h2 id="Broadcast-Receiver"><a href="#Broadcast-Receiver" class="headerlink" title="Broadcast Receiver"></a>Broadcast Receiver</h2><h3 id="é™æ€å¹¿æ’­æ¥æ”¶å™¨"><a href="#é™æ€å¹¿æ’­æ¥æ”¶å™¨" class="headerlink" title="é™æ€å¹¿æ’­æ¥æ”¶å™¨"></a>é™æ€å¹¿æ’­æ¥æ”¶å™¨</h3><blockquote>
<p>ä» Android 8.0ï¼ˆAPI çº§åˆ« 26ï¼‰å¼€å§‹ï¼Œç³»ç»Ÿå¯¹æ¸…å•å£°æ˜çš„æ¥æ”¶å™¨æ–½åŠ äº†é¢å¤–çš„é™åˆ¶ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœæ‚¨çš„åº”ç”¨ä»¥ Android 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸ºç›®æ ‡å¹³å°ï¼Œé‚£ä¹ˆå¯¹äºå¤§å¤šæ•°éšå¼å¹¿æ’­ï¼ˆæ²¡æœ‰æ˜ç¡®é’ˆå¯¹æ‚¨çš„åº”ç”¨çš„å¹¿æ’­ï¼‰ï¼Œæ‚¨ä¸èƒ½ä½¿ç”¨æ¸…å•æ¥å£°æ˜æ¥æ”¶å™¨ã€‚å½“ç”¨æˆ·æ­£åœ¨æ´»è·ƒåœ°ä½¿ç”¨æ‚¨çš„åº”ç”¨æ—¶ï¼Œæ‚¨ä»å¯ä½¿ç”¨ä¸Šä¸‹æ–‡æ³¨å†Œçš„æ¥æ”¶å™¨ã€‚</p>
</blockquote>
<h3 id="åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨"><a href="#åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨" class="headerlink" title="åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨"></a>åŠ¨æ€æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨</h3><p>æ¥æ”¶ç½‘ç»œçŠ¶æ€çš„å¹¿æ’­ï¼Œéœ€è¦æ·»åŠ ç½‘ç»œæƒé™</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">package</span>=<span class="string">&quot;com.example.broadcastreceiver&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">uses-permission</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        IntentFilter intentFilter = <span class="keyword">new</span> IntentFilter();</span><br><span class="line">        intentFilter.addAction(<span class="string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>);</span><br><span class="line">        registerReceiver(<span class="keyword">new</span> BroadcastReceiver() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(context, <span class="string">&quot;ç½‘ç»œå˜åŒ–&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, intentFilter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰å¹¿æ’­"><a href="#è‡ªå®šä¹‰å¹¿æ’­" class="headerlink" title="è‡ªå®šä¹‰å¹¿æ’­"></a>è‡ªå®šä¹‰å¹¿æ’­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        registerReceiver(<span class="keyword">new</span> BroadcastReceiver() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(context, <span class="string">&quot;æ¥æ”¶åˆ°å¹¿æ’­&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="keyword">new</span> IntentFilter(<span class="string">&quot;BroadcastReceiver message&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                sendBroadcast(<span class="keyword">new</span> Intent(<span class="string">&quot;BroadcastReceiver message&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æœ‰åºå¹¿æ’­"><a href="#æœ‰åºå¹¿æ’­" class="headerlink" title="æœ‰åºå¹¿æ’­"></a>æœ‰åºå¹¿æ’­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        IntentFilter intentFilter = <span class="keyword">new</span> IntentFilter(<span class="string">&quot;BroadcastReceiver message&quot;</span>);</span><br><span class="line">        intentFilter.setPriority(<span class="number">20</span>);</span><br><span class="line">        registerReceiver(<span class="keyword">new</span> BroadcastReceiver() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(context, <span class="string">&quot;å¹¿æ’­é›¶&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line"><span class="comment">//                abortBroadcast();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, intentFilter);</span><br><span class="line"></span><br><span class="line">        intentFilter.setPriority(<span class="number">10</span>);</span><br><span class="line">        registerReceiver(<span class="keyword">new</span> BroadcastReceiver() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(context, <span class="string">&quot;å¹¿æ’­ä¸€&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, intentFilter);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(<span class="string">&quot;BroadcastReceiver message&quot;</span>);</span><br><span class="line">                sendOrderedBroadcast(intent, <span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-5"><a href="#æ³¨æ„äº‹é¡¹-5" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><blockquote>
<p>è¦åœæ­¢æ¥æ”¶å¹¿æ’­ï¼Œè¯·è°ƒç”¨ unregisterReceiver(android.content.BroadcastReceiver)ã€‚å½“æ‚¨ä¸å†éœ€è¦æ¥æ”¶å™¨æˆ–ä¸Šä¸‹æ–‡ä¸å†æœ‰æ•ˆæ—¶ï¼Œè¯·åŠ¡å¿…æ³¨é”€æ¥æ”¶å™¨ã€‚</p>
</blockquote>
<h2 id="å‚è€ƒ-2"><a href="#å‚è€ƒ-2" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.android.com/guide/components/intents-filters">https://developer.android.com/guide/components/intents-filters</a><br><a href="https://developer.android.com/guide/components/broadcasts">https://developer.android.com/guide/components/broadcasts</a></p>
<h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="ä¿å­˜åˆ°åº”ç”¨ä¸“å±å­˜å‚¨ç©ºé—´"><a href="#ä¿å­˜åˆ°åº”ç”¨ä¸“å±å­˜å‚¨ç©ºé—´" class="headerlink" title="ä¿å­˜åˆ°åº”ç”¨ä¸“å±å­˜å‚¨ç©ºé—´"></a>ä¿å­˜åˆ°åº”ç”¨ä¸“å±å­˜å‚¨ç©ºé—´</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button2);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fileOutputStream = openFileOutput(<span class="string">&quot;test.txt&quot;</span>, Context.MODE_PRIVATE);</span><br><span class="line">                    fileOutputStream.write(<span class="keyword">new</span> String(<span class="string">&quot;Hello World\n&quot;</span>).getBytes());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span>(fileOutputStream != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            fileOutputStream.close();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fileInputStream = openFileInput(<span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line">                    <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[fileInputStream.available()];</span><br><span class="line">                    fileInputStream.read(bytes, <span class="number">0</span>, bytes.length);</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="keyword">new</span> String(bytes), Toast.LENGTH_SHORT).show();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        fileInputStream.close();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä¿å­˜é”®å€¼å¯¹æ•°æ®"><a href="#ä¿å­˜é”®å€¼å¯¹æ•°æ®" class="headerlink" title="ä¿å­˜é”®å€¼å¯¹æ•°æ®"></a>ä¿å­˜é”®å€¼å¯¹æ•°æ®</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> Button button = findViewById(R.id.button);</span><br><span class="line">        <span class="keyword">final</span> Button button1 = findViewById(R.id.button2);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                SharedPreferences.Editor editor = getSharedPreferences(<span class="string">&quot;datasp&quot;</span>, MODE_PRIVATE).edit();</span><br><span class="line">                editor.putString(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">                editor.putInt(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>);</span><br><span class="line">                editor.putFloat(<span class="string">&quot;weight&quot;</span>, <span class="number">123.2f</span>);</span><br><span class="line">                editor.apply();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                SharedPreferences sharedPreferences = getSharedPreferences(<span class="string">&quot;datasp&quot;</span>, MODE_PRIVATE);</span><br><span class="line">                String name = sharedPreferences.getString(<span class="string">&quot;name&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line">                <span class="keyword">int</span> age = sharedPreferences.getInt(<span class="string">&quot;age&quot;</span>, <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">float</span> weight = sharedPreferences.getFloat(<span class="string">&quot;weight&quot;</span>, <span class="number">0</span>);</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, age+name+weight, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ-3"><a href="#å‚è€ƒ-3" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.android.com/training/data-storage/app-specific">https://developer.android.com/training/data-storage/app-specific</a><br><a href="https://developer.android.com/training/data-storage/shared-preferences">https://developer.android.com/training/data-storage/shared-preferences</a></p>
]]></content>
      <categories>
        <category>Android</category>
        <category>Java</category>
      </categories>
  </entry>
</search>
